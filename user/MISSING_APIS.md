# 缺失的API接口文档

本文档列出了前端界面所需要但当前API文档中未提供的接口。这些接口需要后端团队实现以完善用户端功能。

可选参数部分主要看后端是否容易实现，具体的参数和返回值可以进一步讨论，后端也可以直接确定接口实现后写入apifox中（写入后前端才知道接口具体的参数和返回值是什么）。

接口的参数名称都是示例，实际实现时可以根据后端的规范进行调整。

## 1. 订单模块
订单模块目前好像一个接口都未写出。
### 1.1 创建订单
- **接口名称**: 创建订单
- **接口路径**: `POST /api/orders`
- **接口功能**: 根据购物车内容创建新订单
- **关键参数**:
  - `userId`: 用户ID
  - `merchantId`: 商家ID
  - `items`: 订单商品列表
  - `totalAmount`: 商品总金额
  - `couponId`: 使用的优惠券ID（可选）
  - `remark`: 订单备注（可选）

### 1.2 获取用户订单列表
- **接口名称**: 获取用户订单列表
- **接口路径**: `GET /api/users/{userId}/orders`
- **接口功能**: 分页获取用户的历史订单，支持状态筛选
- **关键参数**:
  - `userId`: 用户ID（路径参数）
  - `status`: 订单状态筛选（可选）
  - `page`: 页码（默认1）
  - `limit`: 每页数量（默认10）

### 1.3 获取订单详情
- **接口名称**: 获取订单详情
- **接口路径**: `GET /api/orders/{orderId}`
- **接口功能**: 获取指定订单的详细信息，包括是否已支付、配送状态等
- **关键参数**:
  - `orderId`: 订单ID（路径参数）

### 1.4 订单支付
- **接口名称**: 订单支付
- **接口路径**: `POST /api/orders/{orderId}/pay`
- **接口功能**: 发起订单支付，返回支付信息
- **关键参数**:
  - `orderId`: 订单ID（路径参数）
  - `paymentMethod`: 支付方式（alipay, wechat等）
  - `returnUrl`: 支付完成回调地址（可选）

### 1.5 取消订单
- **接口名称**: 取消订单
- **接口路径**: `PUT /api/orders/{orderId}/cancel`
- **接口功能**: 取消指定订单
- **关键参数**:
  - `orderId`: 订单ID（路径参数）
  - `reason`: 取消原因

### 1.6 确认收货
- **接口名称**: 确认收货
- **接口路径**: `PUT /api/orders/{orderId}/confirm`
- **接口功能**: 用户确认收到订单
- **关键参数**:
  - `orderId`: 订单ID（路径参数）


## 2. 优惠券模块

优惠券是商家所有还是平台发放？针对不同的实现接口会有所不同，下面的接口是基于平台发放的优惠券。


### 2.1 按分类获取用户所有优惠券
- **接口名称**: 获取用户优惠券
- **接口路径**: `GET /api/users/{userId}/coupons`
- **接口功能**: 根据参数返回不同的用户优惠券列表，包括可用、已使用、已过期的
- **关键参数**:
  - `userId`: 用户ID（路径参数）
  - `status`: 优惠券状态筛选（可选）
  - `categoryId`: 可用、已使用、已过期等分类筛选（可选）

### 2.2 使用优惠券
- **接口名称**: 使用优惠券
- **接口路径**: `PUT /api/coupons/{couponId}/use`
- **接口功能**: 在订单中使用指定优惠券
- **关键参数**:
  - `couponId`: 优惠券ID（路径参数）
  - `orderId`: 订单ID

### 2.3 领取优惠券
- **接口名称**: 领取优惠券
- **接口路径**: `POST /api/users/{userId}/coupons/claim`
- **接口功能**: 用户领取优惠券
- **关键参数**:
  - `userId`: 用户ID（路径参数）

### 2.4 获取可领取优惠券
- **接口名称**: 获取优惠券
- **接口路径**: `GET /api/coupon-templates/available`
- **接口功能**: 获取当前可领取的优惠券列表
- **关键参数**:


## 3. 用户模块

可能涉及到统一的用户注销接口。

### 3.1 用户注销
- **接口名称**: 用户注销
- **接口路径**: `POST /api/users/logout`
- **接口功能**: 用户退出登录，清除认证信息
- **关键参数**:
  - `token`: 用户token（Header中）

---