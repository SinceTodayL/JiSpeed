import{O as M,P as B,d as ae,Q as p,R as U,S as xe,U as se,V as be,W as we,c as Z,X as ye,Y as R,m as ke,Z as _e,r as x,a0 as De,a as q,o as V,e as s,w as n,b as l,g as a,a1 as Q,M as A,t as g,B as L,f as D,a2 as ee,a3 as Ie,h as Ce,I as X,a4 as Se,a5 as O,a6 as $e,a7 as Ae,a8 as ze}from"./index-C9iIelhG.js";import{_ as Ne}from"./Spin-BUlUfB7E.js";import{N as Re,a as Te,b as j}from"./DescriptionsItem-Bi55qOPT.js";import{_ as z,a as te}from"./Grid-BfPN-Tl3.js";import{_ as Pe}from"./Space-DQwm9Psp.js";const Le=M("statistic",[B("label",`
 font-weight: var(--n-label-font-weight);
 transition: .3s color var(--n-bezier);
 font-size: var(--n-label-font-size);
 color: var(--n-label-text-color);
 `),M("statistic-value",`
 margin-top: 4px;
 font-weight: var(--n-value-font-weight);
 `,[B("prefix",`
 margin: 0 4px 0 0;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-prefix-text-color);
 `,[M("icon",{verticalAlign:"-0.125em"})]),B("content",`
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-text-color);
 `),B("suffix",`
 margin: 0 0 0 4px;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-suffix-text-color);
 `,[M("icon",{verticalAlign:"-0.125em"})])])]),Oe=Object.assign(Object.assign({},se.props),{tabularNums:Boolean,label:String,value:[String,Number]}),E=ae({name:"Statistic",props:Oe,slots:Object,setup(u){const{mergedClsPrefixRef:o,inlineThemeDisabled:N,mergedRtlRef:d}=xe(u),h=se("Statistic","-statistic",Le,be,u,o),I=we("Statistic",d,o),i=Z(()=>{const{self:{labelFontWeight:v,valueFontSize:T,valueFontWeight:c,valuePrefixTextColor:w,labelTextColor:_,valueSuffixTextColor:P,valueTextColor:C,labelFontSize:S},common:{cubicBezierEaseInOut:f}}=h.value;return{"--n-bezier":f,"--n-label-font-size":S,"--n-label-font-weight":v,"--n-label-text-color":_,"--n-value-font-weight":c,"--n-value-font-size":T,"--n-value-prefix-text-color":w,"--n-value-suffix-text-color":P,"--n-value-text-color":C}}),b=N?ye("statistic",void 0,i,u):void 0;return{rtlEnabled:I,mergedClsPrefix:o,cssVars:N?void 0:i,themeClass:b?.themeClass,onRender:b?.onRender}},render(){var u;const{mergedClsPrefix:o,$slots:{default:N,label:d,prefix:h,suffix:I}}=this;return(u=this.onRender)===null||u===void 0||u.call(this),p("div",{class:[`${o}-statistic`,this.themeClass,this.rtlEnabled&&`${o}-statistic--rtl`],style:this.cssVars},U(d,i=>p("div",{class:`${o}-statistic__label`},this.label||i)),p("div",{class:`${o}-statistic-value`,style:{fontVariantNumeric:this.tabularNums?"tabular-nums":""}},U(h,i=>i&&p("span",{class:`${o}-statistic-value__prefix`},i)),this.value!==void 0?p("span",{class:`${o}-statistic-value__content`},this.value):U(N,i=>i&&p("span",{class:`${o}-statistic-value__content`},i)),U(I,i=>i&&p("span",{class:`${o}-statistic-value__suffix`},i))))}});function We(u){return R({url:`/api/Attendance/today/${u}`,method:"get"})}function Me(u){return R({url:`/api/Attendance/${u}`,method:"get"})}function Be(u,o={}){return R({url:`/api/Attendance/rider/${u}`,method:"get",params:o})}function Ue(u,o={}){return R({url:`/api/Attendance/stats/rider/${u}`,method:"get",params:o})}function Ve(u){return R({url:`/api/Attendance/checkout/${u}`,method:"post"})}function je(u){return R({url:`/api/Attendance/checkin/${u}`,method:"post"})}const Ee={class:"min-h-full bg-gradient-to-br from-blue-50 to-indigo-100 p-24px dark:from-gray-900 dark:to-gray-800"},Fe={class:"flex items-center gap-3"},He={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-r from-blue-500 to-purple-600"},Ye={class:"flex items-center justify-between"},qe={class:"flex items-center space-x-32px"},Qe={class:"text-center"},Xe={class:"text-4xl font-bold text-blue-600 dark:text-blue-400"},Ze={class:"mt-4px text-sm text-gray-500"},Ge={class:"text-center"},Je={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},Ke={class:"text-sm text-gray-500"},et={class:"text-center"},tt={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},at={class:"text-sm text-gray-500"},st={class:"flex space-x-16px"},lt={class:"flex h-full items-end"},nt={class:"flex items-center justify-between"},ot={class:"text-sm text-gray-500"},rt={key:0,class:"space-y-16px"},it={class:"grid grid-cols-2 gap-16px"},ut={class:"rounded-lg bg-gray-50 p-16px text-center dark:bg-gray-800"},ct={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},dt={class:"rounded-lg bg-gray-50 p-16px text-center dark:bg-gray-800"},gt={class:"grid grid-cols-2 gap-16px"},vt={class:"rounded-lg bg-blue-50 p-16px text-center dark:bg-blue-900/20"},ft={class:"text-lg font-semibold text-blue-800 dark:text-blue-200"},pt={class:"rounded-lg bg-green-50 p-16px text-center dark:bg-green-900/20"},mt={class:"text-lg font-semibold text-green-800 dark:text-green-200"},ht={key:0,class:"rounded-lg bg-purple-50 p-16px text-center dark:bg-purple-900/20"},xt={class:"text-lg font-semibold text-purple-800 dark:text-purple-200"},F=3,bt=ae({name:"attendance",__name:"index",setup(u){const o=ke(),N=_e(),d=Z(()=>N.riderId||o.userInfo.userId),h=x([]),I=x(null),i=x(null),b=x(null),v=x(!1),T=x(!1),c=x(null),w=x(!1),_=x(!1),P=x(new Date),C=x(0),S=x(0),f=x({startDate:null,endDate:null,status:void 0}),m=x({page:1,pageSize:15,itemCount:0}),le=()=>{P.value=new Date};async function ne(){try{console.log("开始获取骑手信息, riderId:",d.value);const{data:e}=await Ae(d.value);if(console.log("骑手信息获取成功:",e),e){const t=e.data||e;I.value=t}}catch(e){console.error("获取骑手信息失败:",e),console.error("错误详情:",{message:e?.message,response:e?.response?.data,status:e?.response?.status}),I.value={riderId:d.value,name:"骑手",phoneNumber:"",vehicleNumber:"",applicationUserId:d.value}}}async function W(){try{const{data:e}=await We(d.value);if(e){const t=e.data||e;i.value=t,w.value=!!t.checkInAt,_.value=!!t.checkoutAt}else i.value=null,w.value=!1,_.value=!1}catch(e){console.error("获取今日考勤状态失败:",e),i.value=null,w.value=!1,_.value=!1}}async function y(){v.value=!0;try{console.log("开始获取考勤记录, riderId:",d.value);const e={pageIndex:m.value.page,pageSize:m.value.pageSize};f.value.startDate&&(e.startDate=new Date(f.value.startDate).toISOString().split("T")[0]),f.value.endDate&&(e.endDate=new Date(f.value.endDate).toISOString().split("T")[0]),f.value.status==="late"?e.isLate=1:f.value.status==="absent"?e.isAbsent=1:f.value.status==="present"&&(e.isLate=0,e.isAbsent=0),console.log("考勤记录请求参数:",e);const{data:t}=await Be(d.value,e);if(console.log("考勤记录获取成功:",t),t){const r=t.data||t;Array.isArray(r)?(h.value=r,m.value.itemCount=r.length):r.records?(h.value=r.records,m.value.itemCount=r.total||0):(h.value=[],m.value.itemCount=0)}else h.value=[],m.value.itemCount=0}catch(e){console.error("获取考勤记录失败:",e),console.error("错误详情:",{message:e?.message,response:e?.response?.data,status:e?.response?.status}),window.$message?.error("获取考勤记录失败"),h.value=[],m.value.itemCount=0}finally{v.value=!1}}async function oe(){try{console.log("开始获取考勤统计, riderId:",d.value);const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),$={startDate:t.toISOString().split("T")[0],endDate:r.toISOString().split("T")[0]};console.log("考勤统计请求参数:",$);const{data:k}=await Ue(d.value,$);if(console.log("考勤统计获取成功:",k),k){const he=k.data||k;b.value=he}else b.value={totalWorkDays:0,totalWorkHours:0,averageWorkHours:0,lateCount:0,absentCount:0,attendanceRate:0}}catch(e){console.error("获取考勤统计失败:",e),console.error("错误详情:",{message:e?.message,response:e?.response?.data,status:e?.response?.status}),b.value={totalWorkDays:0,totalWorkHours:0,averageWorkHours:0,lateCount:0,absentCount:0,attendanceRate:0}}}async function G(){if(v.value||w.value){console.log("已经防止重复点击",v.value,w.value);return}try{v.value=!0,C.value=0;const{data:e}=await je(d.value);console.log("if",e),e?(window.$message?.success(e.message||"打卡成功！"),w.value=!0,C.value=0,await y()):window.$message?.warning("打卡响应异常，请刷新页面查看状态")}catch(e){if(console.error("打卡失败:",e),console.error("请求详情:",{riderId:d.value,url:e?.config?.url,method:e?.config?.method,data:e?.config?.data,headers:e?.config?.headers}),e?.response?.data?.message){const t=e.response.data.message;t.includes("已有考勤记录")||t.includes("已签到")||t.includes("重复")||t.includes("already")||t.includes("expected to affect 1 row")||t.includes("actually affected 0 row")||t.includes("乐观并发")||t.includes("concurrency")?(window.$message?.warning("检测到重复操作，正在刷新状态..."),await Promise.all([y(),W()]),i.value?.checkInAt&&(w.value=!0,window.$message?.success("今日已成功打卡！"))):window.$message?.error(`打卡失败：${t}`)}else if(e?.response?.status)switch(e.response.status){case 400:window.$message?.error("请求参数错误，请检查网络连接");break;case 401:window.$message?.error("登录已过期，请重新登录");break;case 403:window.$message?.error("没有权限进行此操作");break;case 409:if(C.value<F){C.value++,window.$message?.warning(`操作冲突，正在重试 (${C.value}/${F})...`),await new Promise(t=>setTimeout(t,1e3*C.value)),await G();return}else window.$message?.warning("操作冲突，正在刷新状态..."),await Promise.all([y(),W()]);break;case 500:window.$message?.error("服务器错误，请稍后重试");break;default:window.$message?.error("打卡失败，请稍后重试")}else window.$message?.error("网络连接失败，请检查网络后重试")}finally{v.value=!1}}async function re(){await G()}async function J(){if(!(v.value||_.value||!w.value))try{v.value=!0,S.value=0;const{data:e}=await Ve(d.value);e?(window.$message?.success(e.message||"签退成功！"),_.value=!0,S.value=0,await y()):window.$message?.warning("签退响应异常，请刷新页面查看状态")}catch(e){if(console.error("签退失败:",e),console.error("请求详情:",{riderId:d.value,url:e?.config?.url,method:e?.config?.method,data:e?.config?.data,headers:e?.config?.headers}),e?.response?.data?.message){const t=e.response.data.message;t.includes("未签到")||t.includes("not checked in")||t.includes("需要先签到")?window.$message?.error("请先完成签到再进行签退"):t.includes("已签退")||t.includes("already checked out")||t.includes("expected to affect 1 row")||t.includes("actually affected 0 row")||t.includes("乐观并发")||t.includes("concurrency")?(window.$message?.warning("检测到重复操作，正在刷新状态..."),await Promise.all([y(),W()]),i.value?.checkoutAt&&(_.value=!0,window.$message?.success("今日已成功签退！"))):window.$message?.error(`签退失败：${t}`)}else if(e?.response?.status)switch(e.response.status){case 400:window.$message?.error("请求参数错误，请检查网络连接");break;case 401:window.$message?.error("登录已过期，请重新登录");break;case 403:window.$message?.error("没有权限进行此操作");break;case 409:if(S.value<F){S.value++,window.$message?.warning(`操作冲突，正在重试 (${S.value}/${F})...`),await new Promise(t=>setTimeout(t,1e3*S.value)),await J();return}else window.$message?.warning("操作冲突，正在刷新状态..."),await Promise.all([y(),W()]);break;case 500:window.$message?.error("服务器错误，请稍后重试");break;default:window.$message?.error("签退失败，请稍后重试")}else window.$message?.error("网络连接失败，请检查网络后重试")}finally{v.value=!1}}async function ie(){await J()}async function ue(e){try{const{data:t}=await Me(e.attendanceId);t&&t.data&&(c.value=t.data,T.value=!0)}catch(t){console.error("获取考勤详情失败:",t),window.$message?.error("获取考勤详情失败")}}function ce(){console.log("执行搜索，筛选条件:",f.value),m.value.page=1,y()}function de(){console.log("重置筛选条件"),f.value={startDate:null,endDate:null,status:void 0},m.value.page=1,y()}function ge(e){m.value.page=e,y()}function ve(e){m.value.pageSize=e,m.value.page=1,y()}const fe=Z(()=>{const e=h.value.length,t=h.value.filter(k=>k.isLate===0&&k.isAbsent===0).length,r=h.value.filter(k=>k.isLate===1).length,$=h.value.filter(k=>k.isAbsent===1).length;return{total:e,present:t,late:r,absent:$,attendanceRate:e>0?Math.round(t/e*100):0}}),H={present:{text:"正常",type:"success"},absent:{text:"缺勤",type:"error"},late:{text:"迟到",type:"warning"}};function Y(e){return e.isAbsent===1?"absent":e.isLate===1?"late":"present"}function K(e){if(!e.checkInAt||!e.checkoutAt)return 0;const t=new Date(e.checkInAt),r=new Date(e.checkoutAt);return Math.round((r.getTime()-t.getTime())/(1e3*60*60)*10)/10}const pe=[{title:"日期",key:"checkDate",width:120,render:e=>{const t=new Date(e.checkDate),r=new Date,$=t.toDateString()===r.toDateString();return p("div",{class:"flex items-center"},[p("span",{class:$?"text-blue-600 font-medium":""},t.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit"})),$&&p(O,{type:"primary",size:"tiny"},{default:()=>"今日"})])}},{title:"上班时间",key:"checkInAt",width:100,render:e=>{if(!e.checkInAt)return p("span",{class:"text-gray-400"},"未打卡");const t=new Date(e.checkInAt).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return p("span",{class:"font-medium"},t)}},{title:"下班时间",key:"checkoutAt",width:100,render:e=>{if(!e.checkoutAt)return p("span",{class:"text-gray-400"},"未签退");const t=new Date(e.checkoutAt).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return p("span",{class:"font-medium"},t)}},{title:"工作时长",key:"workHours",width:100,render:e=>{const t=K(e);return t===0?"-":p("span",{class:"text-green-600 font-medium"},`${t}h`)}},{title:"状态",key:"status",width:100,render:e=>{const t=Y(e),r=H[t];return p(O,{type:r.type,size:"small"},{default:()=>r.text})}},{title:"操作",key:"actions",width:80,render:e=>p(L,{size:"small",type:"primary",ghost:!0,onClick:()=>ue(e)},{default:()=>"详情"})}],me=[{label:"全部状态",value:void 0},{label:"正常",value:"present"},{label:"迟到",value:"late"},{label:"缺勤",value:"absent"}];return De(async()=>{console.log("考勤页面开始初始化..."),console.log("当前认证状态:",{token:o.token,userId:o.userInfo.userId,userName:o.userInfo.userName}),!o.userInfo.userId&&o.token&&(console.log("用户信息未初始化，开始初始化..."),await o.initUserInfo()),o.userInfo.userId||(console.log("使用模拟用户数据"),Object.assign(o.userInfo,{userId:`rider_${Date.now()}`,userName:"测试骑手",roles:["rider"],buttons:[]})),console.log("初始化后的用户信息:",o.userInfo),console.log("骑手ID:",d.value);try{console.log("开始并行获取数据..."),await Promise.all([ne(),y(),oe()]),console.log("所有数据获取完成")}catch(e){console.error("数据获取过程中出现错误:",e)}setInterval(le,1e3)}),(e,t)=>(V(),q("div",Ee,[s(a(A),{bordered:!1,class:"mb-24px bg-white/80 backdrop-blur-sm dark:bg-gray-800/80"},{default:n(()=>[l("div",Fe,[l("div",He,[s(a(Q),{icon:"mdi:clock-check",class:"text-2xl text-white"})]),t[4]||(t[4]=l("div",null,[l("h1",{class:"text-2xl font-bold text-gray-800 dark:text-gray-200"},"考勤管理"),l("p",{class:"mt-2px text-gray-600 dark:text-gray-400"},"管理您的出勤记录，保持工作纪律")],-1))])]),_:1}),s(a(A),{bordered:!1,class:"mb-24px rounded-16px bg-white/90 shadow-lg backdrop-blur-sm dark:bg-gray-800/90"},{default:n(()=>[l("div",Ye,[l("div",qe,[l("div",Qe,[l("div",Xe,g(P.value.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),l("div",Ze,g(P.value.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),1)]),l("div",Ge,[l("div",Je,g(I.value?.name||"骑手"),1),l("div",Ke,"车辆："+g(I.value?.vehicleNumber||"暂无"),1)]),l("div",et,[l("div",tt,g(i.value?.checkInAt?"已打卡":"未打卡"),1),l("div",at,g(i.value?.checkoutAt?"已签退":"未签退"),1)])]),l("div",st,[s(a(L),{class:"px-32px",type:"primary",size:"large",disabled:w.value||v.value,loading:v.value,onClick:re},{icon:n(()=>[s(a(Q),{icon:"mdi:clock-check",class:"mr-8px"})]),default:n(()=>[D(" "+g(w.value?"已打卡":"打卡"),1)]),_:1},8,["disabled","loading"]),s(a(L),{class:"px-32px",type:"info",size:"large",disabled:!w.value||_.value||v.value,loading:v.value,onClick:ie},{icon:n(()=>[s(a(Q),{icon:"mdi:clock-out",class:"mr-8px"})]),default:n(()=>[D(" "+g(_.value?"已签退":"签退"),1)]),_:1},8,["disabled","loading"])])])]),_:1}),s(a(te),{cols:"s:2 m:4",responsive:"screen","x-gap":16,"y-gap":16,class:"mb-24px"},{default:n(()=>[s(a(z),null,{default:n(()=>[s(a(A),{class:"text-center bg-gradient-to-r from-blue-500 to-blue-600 text-white"},{default:n(()=>[s(a(E),{label:"总出勤天数",value:b.value?.totalWorkDays||0},null,8,["value"])]),_:1})]),_:1}),s(a(z),null,{default:n(()=>[s(a(A),{class:"text-center bg-gradient-to-r from-green-500 to-green-600 text-white"},{default:n(()=>[s(a(E),{label:"正常出勤",value:fe.value.present},null,8,["value"])]),_:1})]),_:1}),s(a(z),null,{default:n(()=>[s(a(A),{class:"text-center bg-gradient-to-r from-yellow-500 to-yellow-600 text-white"},{default:n(()=>[s(a(E),{label:"迟到次数",value:b.value?.lateCount||0},null,8,["value"])]),_:1})]),_:1}),s(a(z),null,{default:n(()=>[s(a(A),{class:"text-center bg-gradient-to-r from-purple-500 to-purple-600 text-white"},{default:n(()=>[s(a(E),{label:"出勤率",value:b.value?.attendanceRate||0,suffix:"%"},null,8,["value"])]),_:1})]),_:1})]),_:1}),s(a(A),{bordered:!1,class:"mb-24px rounded-16px bg-white/90 shadow-lg backdrop-blur-sm dark:bg-gray-800/90"},{default:n(()=>[s(a(te),{cols:24,"x-gap":16,"y-gap":16},{default:n(()=>[s(a(z),{span:6},{default:n(()=>[l("div",null,[t[5]||(t[5]=l("label",{class:"mb-8px block text-sm text-gray-600 dark:text-gray-400"},"开始日期",-1)),s(a(ee),{value:f.value.startDate,"onUpdate:value":t[0]||(t[0]=r=>f.value.startDate=r),type:"date",placeholder:"选择开始日期",clearable:""},null,8,["value"])])]),_:1}),s(a(z),{span:6},{default:n(()=>[l("div",null,[t[6]||(t[6]=l("label",{class:"mb-8px block text-sm text-gray-600 dark:text-gray-400"},"结束日期",-1)),s(a(ee),{value:f.value.endDate,"onUpdate:value":t[1]||(t[1]=r=>f.value.endDate=r),type:"date",placeholder:"选择结束日期",clearable:""},null,8,["value"])])]),_:1}),s(a(z),{span:6},{default:n(()=>[l("div",null,[t[7]||(t[7]=l("label",{class:"mb-8px block text-sm text-gray-600 dark:text-gray-400"},"状态筛选",-1)),s(a(Ie),{value:f.value.status,"onUpdate:value":t[2]||(t[2]=r=>f.value.status=r),options:me,placeholder:"选择状态",clearable:""},null,8,["value"])])]),_:1}),s(a(z),{span:6},{default:n(()=>[l("div",lt,[s(a(Pe),null,{default:n(()=>[s(a(L),{type:"primary",onClick:ce},{default:n(()=>t[8]||(t[8]=[D("搜索")])),_:1,__:[8]}),s(a(L),{onClick:de},{default:n(()=>t[9]||(t[9]=[D("重置")])),_:1,__:[9]})]),_:1})])]),_:1})]),_:1})]),_:1}),s(a(A),{bordered:!1,class:"rounded-16px bg-white/90 shadow-lg backdrop-blur-sm dark:bg-gray-800/90"},{header:n(()=>[l("div",nt,[t[10]||(t[10]=l("span",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"考勤记录",-1)),l("span",ot,"本月共 "+g(m.value.itemCount)+" 条记录",1)])]),default:n(()=>[s(a(Ne),{show:v.value},{default:n(()=>[s(a(Re),{columns:pe,data:h.value,pagination:{page:m.value.page,pageSize:m.value.pageSize,itemCount:m.value.itemCount,showSizePicker:!0,pageSizes:[10,15,20,30],onUpdatePage:ge,onUpdatePageSize:ve},bordered:!1,"single-line":!1,class:"mt-16px"},null,8,["data","pagination"]),!v.value&&h.value.length===0?(V(),Ce(a(Se),{key:0,description:"暂无考勤记录"})):X("",!0)]),_:1},8,["show"])]),_:1}),s(a($e),{show:T.value,"onUpdate:show":t[3]||(t[3]=r=>T.value=r),preset:"card",title:"考勤详情",class:"w-[600px]"},{default:n(()=>[c.value?(V(),q("div",rt,[l("div",it,[l("div",ut,[t[11]||(t[11]=l("div",{class:"text-sm text-gray-500"},"日期",-1)),l("div",ct,g(new Date(c.value.checkDate).toLocaleDateString("zh-CN")),1)]),l("div",dt,[t[12]||(t[12]=l("div",{class:"text-sm text-gray-500"},"状态",-1)),s(a(O),{type:H[Y(c.value)].type,size:"medium"},{default:n(()=>[D(g(H[Y(c.value)].text),1)]),_:1},8,["type"])])]),l("div",gt,[l("div",vt,[t[13]||(t[13]=l("div",{class:"text-sm text-blue-600 dark:text-blue-400"},"上班时间",-1)),l("div",ft,g(c.value.checkInAt?new Date(c.value.checkInAt).toLocaleTimeString("zh-CN"):"未打卡"),1)]),l("div",pt,[t[14]||(t[14]=l("div",{class:"text-sm text-green-600 dark:text-green-400"},"下班时间",-1)),l("div",mt,g(c.value.checkoutAt?new Date(c.value.checkoutAt).toLocaleTimeString("zh-CN"):"未签退"),1)])]),c.value.checkInAt&&c.value.checkoutAt?(V(),q("div",ht,[t[15]||(t[15]=l("div",{class:"text-sm text-purple-600 dark:text-purple-400"},"工作时长",-1)),l("div",xt,g(K(c.value))+" 小时 ",1)])):X("",!0),s(a(Te),{"label-placement":"left",bordered:"",column:1},{default:n(()=>[s(a(j),{label:"考勤ID"},{default:n(()=>[D(g(c.value.attendanceId),1)]),_:1}),s(a(j),{label:"骑手ID"},{default:n(()=>[D(g(c.value.riderId),1)]),_:1}),s(a(j),{label:"是否迟到"},{default:n(()=>[s(a(O),{type:c.value.isLate?"warning":"success",size:"small"},{default:n(()=>[D(g(c.value.isLate?"是":"否"),1)]),_:1},8,["type"])]),_:1}),s(a(j),{label:"是否缺勤"},{default:n(()=>[s(a(O),{type:c.value.isAbsent?"error":"success",size:"small"},{default:n(()=>[D(g(c.value.isAbsent?"是":"否"),1)]),_:1},8,["type"])]),_:1})]),_:1})])):X("",!0)]),_:1},8,["show"])]))}}),It=ze(bt,[["__scopeId","data-v-39b13eac"]]);export{It as default};
