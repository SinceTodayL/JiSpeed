import{bu as Y,c as h,r as G,b0 as F,bv as X,aa as J,d as O,Q as c,ad as Z,bw as K,b6 as _,aU as I,b7 as ee,S as Q,aM as B,a1 as te,as as se,aj as M,bx as ne,aO as ie,aP as oe,by as P,bh as re,at as V,O as C,bz as ae,au as A,aY as le,T as ue,U as W,bA as de,aH as fe,X as ce,bl as pe,aG as ve}from"./index-vpJRjF0Y.js";function me(e){if(typeof e=="number")return{"":e.toString()};const n={};return e.split(/ +/).forEach(s=>{if(s==="")return;const[t,i]=s.split(":");i===void 0?n[""]=t:n[t]=i}),n}function N(e,n){var s;if(e==null)return;const t=me(e);if(n===void 0)return t[""];if(typeof n=="string")return(s=t[n])!==null&&s!==void 0?s:t[""];if(Array.isArray(n)){for(let i=n.length-1;i>=0;--i){const o=n[i];if(o in t)return t[o]}return t[""]}else{let i,o=-1;return Object.keys(t).forEach(r=>{const a=Number(r);!Number.isNaN(a)&&n>=a&&a>=o&&(o=a,i=t[r])}),i}}const he={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function be(e){return`(min-width: ${e}px)`}const z={};function ye(e=he){if(!Y)return h(()=>[]);if(typeof window.matchMedia!="function")return h(()=>[]);const n=G({}),s=Object.keys(e),t=(i,o)=>{i.matches?n.value[o]=!0:n.value[o]=!1};return s.forEach(i=>{const o=e[i];let r,a;z[o]===void 0?(r=window.matchMedia(be(o)),r.addEventListener?r.addEventListener("change",l=>{a.forEach(u=>{u(l,i)})}):r.addListener&&r.addListener(l=>{a.forEach(u=>{u(l,i)})}),a=new Set,z[o]={mql:r,cbs:a}):(r=z[o].mql,a=z[o].cbs),a.add(t),r.matches&&a.forEach(l=>{l(r,i)})}),F(()=>{s.forEach(i=>{const{cbs:o}=z[e[i]];o.has(t)&&o.delete(t)})}),h(()=>{const{value:i}=n;return s.filter(o=>i[o])})}function Se(e){var n;const s=(n=e.dirs)===null||n===void 0?void 0:n.find(({dir:t})=>t===X);return!!(s&&s.value===!1)}const L=1,q=J("n-grid"),H=1,ge={span:{type:[Number,String],default:H},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Ne=O({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:ge,setup(){const{isSsrRef:e,xGapRef:n,itemStyleRef:s,overflowRef:t,layoutShiftDisabledRef:i}=Z(q),o=K();return{overflow:t,itemStyle:s,layoutShiftDisabled:i,mergedXGap:h(()=>_(n.value||0)),deriveStyle:()=>{e.value;const{privateSpan:r=H,privateShow:a=!0,privateColStart:l=void 0,privateOffset:u=0}=o.vnode.props,{value:v}=n,y=_(v||0);return{display:a?"":"none",gridColumn:`${l??`span ${r}`} / span ${r}`,marginLeft:u?`calc((100% - (${r} - 1) * ${y}) / ${r} * ${u} + ${y} * ${u})`:""}}}},render(){var e,n;if(this.layoutShiftDisabled){const{span:s,offset:t,mergedXGap:i}=this;return c("div",{style:{gridColumn:`span ${s} / span ${s}`,marginLeft:t?`calc((100% - (${s} - 1) * ${i}) / ${s} * ${t} + ${i} * ${t})`:""}},this.$slots)}return c("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e,{overflow:this.overflow}))}}),Re={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},U=24,T="__ssr__",we={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:U},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},Ge=O({name:"Grid",inheritAttrs:!1,props:we,setup(e){const{mergedClsPrefixRef:n,mergedBreakpointsRef:s}=Q(e),t=/^\d+$/,i=G(void 0),o=ye(s?.value||Re),r=B(()=>!!(e.itemResponsive||!t.test(e.cols.toString())||!t.test(e.xGap.toString())||!t.test(e.yGap.toString()))),a=h(()=>{if(r.value)return e.responsive==="self"?i.value:o.value}),l=B(()=>{var f;return(f=Number(N(e.cols.toString(),a.value)))!==null&&f!==void 0?f:U}),u=B(()=>N(e.xGap.toString(),a.value)),v=B(()=>N(e.yGap.toString(),a.value)),y=f=>{i.value=f.contentRect.width},m=f=>{re(y,f)},S=G(!1),g=h(()=>{if(e.responsive==="self")return m}),p=G(!1),R=G();return te(()=>{const{value:f}=R;f&&f.hasAttribute(T)&&(f.removeAttribute(T),p.value=!0)}),se(q,{layoutShiftDisabledRef:M(e,"layoutShiftDisabled"),isSsrRef:p,itemStyleRef:M(e,"itemStyle"),xGapRef:u,overflowRef:S}),{isSsr:!ne,contentEl:R,mergedClsPrefix:n,style:h(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:_(e.xGap),rowGap:_(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${l.value}, minmax(0, 1fr))`,columnGap:_(u.value),rowGap:_(v.value)}),isResponsive:r,responsiveQuery:a,responsiveCols:l,handleResize:g,overflow:S}},render(){if(this.layoutShiftDisabled)return c("div",I({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var n,s,t,i,o,r,a;this.overflow=!1;const l=ie(oe(this)),u=[],{collapsed:v,collapsedRows:y,responsiveCols:m,responsiveQuery:S}=this;l.forEach(d=>{var E,w,b,x,k;if(((E=d?.type)===null||E===void 0?void 0:E.__GRID_ITEM__)!==!0)return;if(Se(d)){const $=P(d);$.props?$.props.privateShow=!1:$.props={privateShow:!1},u.push({child:$,rawChildSpan:0});return}d.dirs=((w=d.dirs)===null||w===void 0?void 0:w.filter(({dir:$})=>$!==X))||null,((b=d.dirs)===null||b===void 0?void 0:b.length)===0&&(d.dirs=null);const j=P(d),D=Number((k=N((x=j.props)===null||x===void 0?void 0:x.span,S))!==null&&k!==void 0?k:L);D!==0&&u.push({child:j,rawChildSpan:D})});let g=0;const p=(n=u[u.length-1])===null||n===void 0?void 0:n.child;if(p?.props){const d=(s=p.props)===null||s===void 0?void 0:s.suffix;d!==void 0&&d!==!1&&(g=Number((i=N((t=p.props)===null||t===void 0?void 0:t.span,S))!==null&&i!==void 0?i:L),p.props.privateSpan=g,p.props.privateColStart=m+1-g,p.props.privateShow=(o=p.props.privateShow)!==null&&o!==void 0?o:!0)}let R=0,f=!1;for(const{child:d,rawChildSpan:E}of u){if(f&&(this.overflow=!0),!f){const w=Number((a=N((r=d.props)===null||r===void 0?void 0:r.offset,S))!==null&&a!==void 0?a:0),b=Math.min(E+w,m);if(d.props?(d.props.privateSpan=b,d.props.privateOffset=w):d.props={privateSpan:b,privateOffset:w},v){const x=R%m;b+x>m&&(R+=m-x),b+R+g>y*m?f=!0:R+=b}}f&&(d.props?d.props.privateShow!==!0&&(d.props.privateShow=!1):d.props={privateShow:!1})}return c("div",I({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[T]:this.isSsr||void 0},this.$attrs),u.map(({child:d})=>d))};return this.isResponsive&&this.responsive==="self"?c(ee,{onResize:this.handleResize},{default:e}):e()}}),_e=V([V("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),C("spin-container",`
 position: relative;
 `,[C("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[ae()])]),C("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),C("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[A("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),C("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),C("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[A("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),xe={small:20,medium:18,large:16},$e=Object.assign(Object.assign({},W.props),{contentClass:String,contentStyle:[Object,String],description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0},delay:Number}),Ee=O({name:"Spin",props:$e,slots:Object,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:s}=Q(e),t=W("Spin","-spin",_e,de,e,n),i=h(()=>{const{size:l}=e,{common:{cubicBezierEaseInOut:u},self:v}=t.value,{opacitySpinning:y,color:m,textColor:S}=v,g=typeof l=="number"?_(l):v[fe("size",l)];return{"--n-bezier":u,"--n-opacity-spinning":y,"--n-size":g,"--n-color":m,"--n-text-color":S}}),o=s?ce("spin",h(()=>{const{size:l}=e;return typeof l=="number"?String(l):l[0]}),i,e):void 0,r=pe(e,["spinning","show"]),a=G(!1);return ve(l=>{let u;if(r.value){const{delay:v}=e;if(v){u=window.setTimeout(()=>{a.value=!0},v),l(()=>{clearTimeout(u)});return}}a.value=r.value}),{mergedClsPrefix:n,active:a,mergedStrokeWidth:h(()=>{const{strokeWidth:l}=e;if(l!==void 0)return l;const{size:u}=e;return xe[typeof u=="number"?"medium":u]}),cssVars:s?void 0:i,themeClass:o?.themeClass,onRender:o?.onRender}},render(){var e,n;const{$slots:s,mergedClsPrefix:t,description:i}=this,o=s.icon&&this.rotate,r=(i||s.description)&&c("div",{class:`${t}-spin-description`},i||((e=s.description)===null||e===void 0?void 0:e.call(s))),a=s.icon?c("div",{class:[`${t}-spin-body`,this.themeClass]},c("div",{class:[`${t}-spin`,o&&`${t}-spin--rotate`],style:s.default?"":this.cssVars},s.icon()),r):c("div",{class:[`${t}-spin-body`,this.themeClass]},c(le,{clsPrefix:t,style:s.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${t}-spin`}),r);return(n=this.onRender)===null||n===void 0||n.call(this),s.default?c("div",{class:[`${t}-spin-container`,this.themeClass],style:this.cssVars},c("div",{class:[`${t}-spin-content`,this.active&&`${t}-spin-content--spinning`,this.contentClass],style:this.contentStyle},s),c(ue,{name:"fade-in-transition"},{default:()=>this.active?a:null})):a}});export{Ne as _,Ge as a,Ee as b};
