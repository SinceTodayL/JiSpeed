{"version":3,"file":"index-DA0xDJRJ.js","sources":["../../src/api/settlement.ts","../../node_modules/.pnpm/@vicons+ionicons5@0.13.0/node_modules/@vicons/ionicons5/es/CardOutline.js","../../node_modules/.pnpm/@vicons+ionicons5@0.13.0/node_modules/@vicons/ionicons5/es/ReceiptOutline.js","../../src/views/settlement-manage/index.vue"],"sourcesContent":["import { get, post } from '../utils/request.js';\n\n/** 结算单基础信息 */\nexport interface SettlementDto {\n  settleId: string;\n  periodStart: string;\n  periodEnd: string;\n  settledAt?: string;\n}\n\n/** 结算单详情信息 */\nexport interface SettlementDetailDto {\n  settleId: string;\n  periodStart: string;\n  periodEnd: string;\n  grossAmount: number;\n  commissionFee: number;\n  netAmount: number;\n  settledAt?: string;\n}\n\n/** 扩展的结算单信息（用于前端显示） */\nexport interface SettlementItem extends SettlementDetailDto {\n  merchantId?: string;\n  merchantName?: string;\n  statusText?: string;\n  commissionRate?: number;\n}\n\n/** 结算查询参数 */\nexport interface SettlementQuery {\n  startDate?: string;\n  endDate?: string;\n  isSettled?: boolean;\n  page?: number;\n  size?: number;\n}\n\n/** 结算列表响应 */\nexport interface SettlementListResponse {\n  settlements: SettlementItem[];\n  total: number;\n}\n\n/**\n * 获取结算单列表\n * GET /api/settlements\n */\nexport function getSettlements(params: SettlementQuery = {}): Promise<SettlementListResponse> {\n  // 构建查询参数，过滤掉undefined值\n  const queryParams: Record<string, any> = {};\n  if (params.startDate) queryParams.startDate = params.startDate;\n  if (params.endDate) queryParams.endDate = params.endDate;\n  if (params.isSettled !== undefined) queryParams.isSettled = params.isSettled;\n  if (params.page) queryParams.page = params.page;\n  if (params.size) queryParams.size = params.size;\n  else queryParams.size = 50;\n  \n  return get('/api/settlements', queryParams).then((response: any) => {\n    // 处理后端包装的响应格式\n    const responseData = response.data || response;\n    const settlements: SettlementItem[] = responseData.map((item: SettlementDto) => ({\n      ...item,\n      grossAmount: 0, // 基础列表不包含这些字段，需要通过详情接口获取\n      commissionFee: 0,\n      netAmount: 0,\n      statusText: item.settledAt ? '已结算' : '待结算'\n    }));\n    \n    return {\n      settlements,\n      total: settlements.length\n    };\n  });\n}\n\n/**\n * 获取结算单详情\n * GET /api/settlements/{settlementId}\n */\nexport function getSettlementDetail(settleId: string): Promise<SettlementItem> {\n  if (!settleId) {\n    return Promise.reject(new Error('结算单ID不能为空'));\n  }\n  \n  return get(`/api/settlements/${settleId}`).then((response: any) => {\n    // 处理后端包装的响应格式\n    const responseData = response.data || response;\n    const result: SettlementItem = {\n      ...responseData,\n      statusText: responseData.settledAt ? '已结算' : '待结算',\n      commissionRate: responseData.grossAmount > 0 ? (responseData.commissionFee / responseData.grossAmount * 100) : 0\n    };\n    \n    return result;\n  });\n}\n\n/**\n * 根据商家ID获取结算单列表\n * GET /api/settlements/merchants/{merchantId}\n */\nexport function getSettlementsByMerchant(merchantId: string, params: SettlementQuery = {}): Promise<SettlementListResponse> {\n  if (!merchantId) {\n    return Promise.reject(new Error('商家ID不能为空'));\n  }\n  \n  // 构建查询参数，过滤掉undefined值\n  const queryParams: Record<string, any> = {};\n  if (params.startDate) queryParams.startDate = params.startDate;\n  if (params.endDate) queryParams.endDate = params.endDate;\n  if (params.isSettled !== undefined) queryParams.isSettled = params.isSettled;\n  if (params.page) queryParams.page = params.page;\n  if (params.size) queryParams.size = params.size;\n  else queryParams.size = 50;\n  \n  return get(`/api/settlements/merchants/${merchantId}`, queryParams).then((response: any) => {\n    // 处理后端包装的响应格式\n    const responseData = response.data || response;\n    const settlements: SettlementItem[] = responseData.map((item: SettlementDto) => ({\n      ...item,\n      merchantId,\n      grossAmount: 0, // 基础列表不包含这些字段，需要通过详情接口获取\n      commissionFee: 0,\n      netAmount: 0,\n      statusText: item.settledAt ? '已结算' : '待结算'\n    }));\n    \n    return {\n      settlements,\n      total: settlements.length\n    };\n  });\n}\n\n\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'CardOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'rect',\n              {\n                x: '48',\n                y: '96',\n                width: '416',\n                height: '320',\n                rx: '56',\n                ry: '56',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linejoin': 'round',\n                'stroke-width': '60',\n                d: 'M48 192h416'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linejoin': 'round',\n                'stroke-width': '60',\n                d: 'M128 300h48v20h-48z'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'ReceiptOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M160 336V48l32 16l32-16l31.94 16l32.37-16L320 64l31.79-16l31.93 16L416 48l32.01 16L480 48v224'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                d: 'M480 272v112a80 80 0 0 1-80 80h0a80 80 0 0 1-80-80v-48H48a15.86 15.86 0 0 0-16 16c0 64 6.74 112 80 112h288',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M224 144h192'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M288 224h128'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","<template>\n  <div class=\"settlement-manage-container min-h-screen p-6\">\n    <!-- 页面标题 -->\n    <div class=\"mb-8\">\n      <div class=\"flex items-center gap-4 mb-2\">\n        <n-avatar \n          :size=\"48\"\n          style=\"background: linear-gradient(135deg, #722ed1 0%, #531dab 100%);\"\n        >\n          <n-icon size=\"24\">\n            <WalletOutline />\n          </n-icon>\n        </n-avatar>\n        <div>\n          <h1 class=\"text-3xl font-bold text-gray-800\">结算管理</h1>\n          <p class=\"text-gray-600 mt-1\">管理和查看平台所有结算记录</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- 结算统计卡片区域 -->\n    <n-grid :cols=\"6\" :x-gap=\"16\" :y-gap=\"16\" class=\"mb-6\">\n      <n-gi>\n        <n-card :bordered=\"false\" class=\"shadow-sm hover:shadow-lg transition-shadow duration-300\">\n          <n-statistic\n            label=\"结算单总数\"\n            :value=\"settlementStats.total\"\n            value-style=\"color: #722ed1; font-weight: bold;\"\n          >\n            <template #prefix>\n              <n-icon size=\"20\" color=\"#722ed1\">\n                <ReceiptOutline />\n              </n-icon>\n            </template>\n          </n-statistic>\n        </n-card>\n      </n-gi>\n      <n-gi>\n        <n-card :bordered=\"false\" class=\"shadow-sm hover:shadow-lg transition-shadow duration-300\">\n          <n-statistic\n            label=\"已结算\"\n            :value=\"settlementStats.settledCount\"\n            value-style=\"color: #52c41a; font-weight: bold;\"\n          >\n            <template #prefix>\n              <n-icon size=\"20\" color=\"#52c41a\">\n                <CheckmarkCircleOutline />\n              </n-icon>\n            </template>\n          </n-statistic>\n        </n-card>\n      </n-gi>\n      <n-gi>\n        <n-card :bordered=\"false\" class=\"shadow-sm hover:shadow-lg transition-shadow duration-300\">\n          <n-statistic\n            label=\"待结算\"\n            :value=\"settlementStats.pendingCount\"\n            value-style=\"color: #faad14; font-weight: bold;\"\n          >\n            <template #prefix>\n              <n-icon size=\"20\" color=\"#faad14\">\n                <TimeOutline />\n              </n-icon>\n            </template>\n          </n-statistic>\n        </n-card>\n      </n-gi>\n      <n-gi>\n        <n-card :bordered=\"false\" class=\"shadow-sm hover:shadow-lg transition-shadow duration-300\">\n          <n-statistic\n            label=\"总毛收入\"\n            :value=\"formatAmount(settlementStats.totalGrossAmount)\"\n            value-style=\"color: #52c41a; font-weight: bold;\"\n          >\n            <template #prefix>\n              <n-icon size=\"20\" color=\"#52c41a\">\n                <WalletOutline />\n              </n-icon>\n            </template>\n          </n-statistic>\n        </n-card>\n      </n-gi>\n      <n-gi>\n        <n-card :bordered=\"false\" class=\"shadow-sm hover:shadow-lg transition-shadow duration-300\">\n          <n-statistic\n            label=\"总抽佣\"\n            :value=\"formatAmount(settlementStats.totalCommissionFee)\"\n            value-style=\"color: #fa8c16; font-weight: bold;\"\n          >\n            <template #prefix>\n              <n-icon size=\"20\" color=\"#fa8c16\">\n                <CardOutline />\n              </n-icon>\n            </template>\n          </n-statistic>\n        </n-card>\n      </n-gi>\n      <n-gi>\n        <n-card :bordered=\"false\" class=\"shadow-sm hover:shadow-lg transition-shadow duration-300\">\n          <n-statistic\n            label=\"平均抽佣率\"\n            :value=\"settlementStats.avgCommissionRate\"\n            value-style=\"color: #1890ff; font-weight: bold;\"\n          >\n            <template #suffix>\n              <span class=\"text-sm text-gray-500\">%</span>\n            </template>\n            <template #prefix>\n              <n-icon size=\"20\" color=\"#1890ff\">\n                <StatsChartOutline />\n              </n-icon>\n            </template>\n          </n-statistic>\n        </n-card>\n      </n-gi>\n    </n-grid>\n\n    <!-- 结算筛选区域 -->\n    <n-card title=\"筛选条件\" class=\"mb-6 shadow-sm\" :bordered=\"false\">\n      <template #header-extra>\n        <n-space>\n          <n-button size=\"small\" @click=\"handleSettlementSearch\" type=\"primary\">\n            <template #icon>\n              <n-icon>\n                <SearchOutline />\n              </n-icon>\n            </template>\n            搜索\n          </n-button>\n          <n-button size=\"small\" @click=\"handleSettlementReset\">\n            <template #icon>\n              <n-icon>\n                <RefreshOutline />\n              </n-icon>\n            </template>\n            重置\n          </n-button>\n        </n-space>\n      </template>\n      \n      <n-form :model=\"settlementSearchParams\" inline label-placement=\"left\" label-width=\"80\">\n        <n-form-item label=\"商家ID\">\n          <n-input\n            v-model:value=\"settlementSearchParams.merchantId\"\n            placeholder=\"输入商家ID\"\n            clearable\n            style=\"width: 200px\"\n          />\n        </n-form-item>\n        \n        <n-form-item label=\"起始日期\">\n          <n-date-picker\n            v-model:value=\"settlementSearchParams.startDate\"\n            type=\"date\"\n            placeholder=\"选择起始日期\"\n            clearable\n            style=\"width: 200px\"\n          />\n        </n-form-item>\n        \n        <n-form-item label=\"结束日期\">\n          <n-date-picker\n            v-model:value=\"settlementSearchParams.endDate\"\n            type=\"date\"\n            placeholder=\"选择结束日期\"\n            clearable\n            style=\"width: 200px\"\n          />\n        </n-form-item>\n        \n        <n-form-item label=\"结算状态\">\n          <n-select\n            v-model:value=\"settlementSearchParams.isSettled\"\n            :options=\"settlementStatusOptions\"\n            placeholder=\"选择状态\"\n            clearable\n            style=\"width: 150px\"\n          />\n        </n-form-item>\n\n\n      </n-form>\n    </n-card>\n\n    <!-- 结算单列表 -->\n    <n-card :bordered=\"false\" class=\"shadow-sm\">\n      <template #header>\n        <div class=\"flex items-center gap-2\">\n          <n-icon size=\"18\" color=\"#722ed1\">\n            <WalletOutline />\n          </n-icon>\n          <span class=\"font-medium\">结算单列表</span>\n        </div>\n      </template>\n      \n      <template #header-extra>\n        <n-space align=\"center\">\n          <n-text depth=\"3\">\n            显示 {{ filteredSettlementData.length }} / {{ settlementData.length }} 条记录\n          </n-text>\n\n          <n-button size=\"small\" @click=\"handleSettlementRefresh\" :loading=\"settlementLoading\">\n            <template #icon>\n              <n-icon>\n                <RefreshOutline />\n              </n-icon>\n            </template>\n            刷新\n          </n-button>\n        </n-space>\n      </template>\n      \n      <n-data-table\n        :columns=\"settlementColumns\"\n        :data=\"filteredSettlementData\"\n        :loading=\"settlementLoading\"\n        :pagination=\"{ pageSize: 10, showSizePicker: true, pageSizes: [5, 10, 15, 20] }\"\n        flex-height\n        class=\"min-h-500px\"\n        :row-class-name=\"() => 'hover:bg-purple-50 transition-colors duration-200'\"\n        :row-props=\"() => ({ style: 'height: 80px;' })\"\n      />\n    </n-card>\n\n    <!-- 结算单详情弹窗 -->\n    <n-modal \n      v-model:show=\"showSettlementDetailModal\" \n      preset=\"card\" \n      style=\"width: 900px; max-height: 85vh;\" \n      class=\"rounded-2xl\"\n      :mask-closable=\"false\"\n    >\n      <template #header>\n        <div class=\"flex items-center gap-3\">\n          <n-avatar \n            :size=\"40\"\n            style=\"background: linear-gradient(135deg, #722ed1 0%, #531dab 100%);\"\n          >\n            <n-icon size=\"20\">\n              <WalletOutline />\n            </n-icon>\n          </n-avatar>\n          <div>\n            <h3 class=\"text-lg font-semibold text-gray-800\">\n              结算单详情\n            </h3>\n            <p class=\"text-sm text-gray-500\">\n              单号: {{ currentSettlement.settleId || '-' }}\n            </p>\n          </div>\n        </div>\n      </template>\n\n      <div v-if=\"!settlementDetailLoading\" class=\"space-y-6\">\n        <!-- 结算概览 -->\n        <div class=\"bg-gradient-to-r from-purple-50 to-indigo-50 p-4 rounded-lg\">\n          <n-grid :cols=\"4\" :x-gap=\"20\">\n            <n-gi>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-purple-600\">\n                  {{ currentSettlement.statusText || '待结算' }}\n                </div>\n                <div class=\"text-sm text-gray-600\">结算状态</div>\n              </div>\n            </n-gi>\n            <n-gi>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-blue-600\">\n                  {{ formatPeriodText(currentSettlement.periodStart, currentSettlement.periodEnd) }}\n                </div>\n                <div class=\"text-sm text-gray-600\">结算周期</div>\n              </div>\n            </n-gi>\n            <n-gi>\n              <div class=\"text-center\">\n                <div class=\"text-2xl font-bold text-orange-600\">\n                  {{ currentSettlement.commissionRate || 0 }}%\n                </div>\n                <div class=\"text-sm text-gray-600\">抽佣率</div>\n              </div>\n            </n-gi>\n            <n-gi>\n              <div class=\"text-center\">\n                <div class=\"text-xl font-bold text-green-600\">\n                  {{ currentSettlement.merchantName || '-' }}\n                </div>\n                <div class=\"text-sm text-gray-600\">商家名称</div>\n              </div>\n            </n-gi>\n          </n-grid>\n        </div>\n\n        <n-divider />\n\n        <!-- 详细信息 -->\n        <n-grid :cols=\"2\" :x-gap=\"24\" :y-gap=\"20\">\n          <!-- 基本信息 -->\n          <n-gi>\n            <n-card title=\"基本信息\" size=\"small\" class=\"h-full\">\n              <template #header-extra>\n                <n-icon color=\"#722ed1\">\n                  <ReceiptOutline />\n                </n-icon>\n              </template>\n              \n              <div class=\"space-y-4\">\n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium\">结算单号</span>\n                  <n-text code style=\"word-break: break-all; max-width: 200px;\">{{ currentSettlement.settleId || '-' }}</n-text>\n                </div>\n                \n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium\">商家名称</span>\n                  <n-text strong>{{ currentSettlement.merchantName || '-' }}</n-text>\n                </div>\n                \n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium\">结算周期</span>\n                  <div class=\"text-right\">\n                    <div class=\"text-sm font-medium\">{{ formatPeriodText(currentSettlement.periodStart, currentSettlement.periodEnd) }}</div>\n                    <div class=\"text-xs text-gray-500\">\n                      {{ currentSettlement.periodStart ? new Date(currentSettlement.periodStart).toLocaleDateString('zh-CN') : '' }} - \n                      {{ currentSettlement.periodEnd ? new Date(currentSettlement.periodEnd).toLocaleDateString('zh-CN') : '' }}\n                    </div>\n                  </div>\n                </div>\n                \n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium\">结算状态</span>\n                  <n-tag \n                    :type=\"getSettlementStatusType(currentSettlement.settledAt)\"\n                    size=\"small\"\n                  >\n                    <template #icon>\n                      <n-icon>\n                        <CheckmarkCircleOutline v-if=\"currentSettlement.settledAt\" />\n                        <TimeOutline v-else />\n                      </n-icon>\n                    </template>\n                    {{ currentSettlement.statusText || '待结算' }}\n                  </n-tag>\n                </div>\n                \n                <div class=\"flex justify-between items-center py-2\">\n                  <span class=\"text-gray-600 font-medium\">结算时间</span>\n                  <n-text>\n                    {{ currentSettlement.settledAt ? \n                      new Date(currentSettlement.settledAt).toLocaleString('zh-CN') : \n                      '待结算' \n                    }}\n                  </n-text>\n                </div>\n              </div>\n            </n-card>\n          </n-gi>\n          \n          <!-- 金额信息 -->\n          <n-gi>\n            <n-card title=\"金额明细\" size=\"small\" class=\"h-full\">\n              <template #header-extra>\n                <n-icon color=\"#fa8c16\">\n                  <WalletOutline />\n                </n-icon>\n              </template>\n              \n              <div class=\"space-y-4\">\n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium flex items-center gap-2\">\n                    <n-icon size=\"16\" color=\"#52c41a\">\n                      <WalletOutline />\n                    </n-icon>\n                    毛收入\n                  </span>\n                  <n-text strong style=\"color: #52c41a; font-size: 16px;\">\n                    ¥{{ formatAmount(currentSettlement.grossAmount) }}\n                  </n-text>\n                </div>\n                \n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium flex items-center gap-2\">\n                    <n-icon size=\"16\" color=\"#fa8c16\">\n                      <CardOutline />\n                    </n-icon>\n                    平台抽佣\n                  </span>\n                  <div class=\"text-right\">\n                    <n-text strong style=\"color: #fa8c16; font-size: 16px;\">\n                      ¥{{ formatAmount(currentSettlement.commissionFee) }}\n                    </n-text>\n                    <div class=\"text-xs text-gray-500\">\n                      ({{ currentSettlement.commissionRate || 0 }}%)\n                    </div>\n                  </div>\n                </div>\n                \n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-gray-600 font-medium flex items-center gap-2\">\n                    <n-icon size=\"16\" color=\"#1890ff\">\n                      <ReceiptOutline />\n                    </n-icon>\n                    应结金额\n                  </span>\n                  <n-text strong style=\"color: #1890ff; font-size: 18px;\">\n                    ¥{{ formatAmount(currentSettlement.netAmount) }}\n                  </n-text>\n                </div>\n                \n                <div class=\"bg-blue-50 p-3 rounded-lg mt-4\">\n                  <div class=\"text-center\">\n                    <div class=\"text-sm text-gray-600 mb-1\">计算公式</div>\n                    <div class=\"text-xs text-gray-500\">\n                      应结金额 = 毛收入 - 平台抽佣\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </n-card>\n          </n-gi>\n        </n-grid>\n\n        <!-- 操作按钮 -->\n        <div class=\"flex justify-end gap-3 pt-4 border-t\">\n          <n-button size=\"medium\" @click=\"showSettlementDetailModal = false\">\n            关闭\n          </n-button>\n\n        </div>\n      </div>\n      \n      <!-- 加载状态 -->\n      <div v-else class=\"flex justify-center items-center h-80\">\n        <n-spin size=\"large\">\n          <template #description>\n            <div class=\"text-center mt-4\">\n              <p class=\"text-gray-600\">正在加载结算单详情...</p>\n              <p class=\"text-sm text-gray-400 mt-1\">请稍候片刻</p>\n            </div>\n          </template>\n        </n-spin>\n      </div>\n    </n-modal>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\ndefineOptions({\n  name: \"settlement-manage\"\n});\n\nimport { ref, reactive, computed, onMounted, h } from 'vue'\nimport { useMessage } from 'naive-ui'\nimport type { DataTableColumns } from 'naive-ui'\nimport {\n  WalletOutline,\n  ReceiptOutline,\n  TimeOutline,\n  SearchOutline,\n  RefreshOutline,\n  StatsChartOutline,\n  CardOutline,\n  CheckmarkCircleOutline\n} from '@vicons/ionicons5'\nimport { getSettlements, getSettlementDetail, getSettlementsByMerchant } from '@/api'\n\n// 结算单接口定义\ninterface SettlementItem {\n  settleId: string\n  merchantId?: string\n  merchantName?: string\n  periodStart: string\n  periodEnd: string\n  grossAmount: number\n  commissionFee: number\n  netAmount: number\n  settledAt?: string\n  statusText?: string\n  commissionRate?: number\n}\n\nconst message = useMessage()\n\n// 响应式数据\nconst settlementLoading = ref(false)\nconst settlementDetailLoading = ref(false)\n\n\nconst showSettlementDetailModal = ref(false)\n\n// 结算单数据\nconst settlementData = ref<SettlementItem[]>([])\nconst currentSettlement = ref<Partial<SettlementItem>>({})\n\n// 搜索参数\nconst settlementSearchParams = reactive({\n  merchantId: '',\n  startDate: null as number | null,\n  endDate: null as number | null,\n  isSettled: null as boolean | null\n})\n\n// 筛选选项\nconst settlementStatusOptions = [\n  { label: '全部', value: null },\n  { label: '已结算', value: true },\n  { label: '待结算', value: false }\n]\n\n\n\n// 计算属性\nconst filteredSettlementData = computed(() => {\n  let filtered = [...settlementData.value]\n  \n  // 商家ID筛选\n  if (settlementSearchParams.merchantId) {\n    filtered = filtered.filter(item => \n      item.merchantId === settlementSearchParams.merchantId\n    )\n  }\n  \n  // 日期范围筛选\n  if (settlementSearchParams.startDate) {\n    filtered = filtered.filter(item => \n      new Date(item.periodStart || 0).getTime() >= settlementSearchParams.startDate!\n    )\n  }\n  \n  if (settlementSearchParams.endDate) {\n    filtered = filtered.filter(item => \n      new Date(item.periodEnd || 0).getTime() <= settlementSearchParams.endDate!\n    )\n  }\n  \n  // 结算状态筛选\n  if (settlementSearchParams.isSettled !== null) {\n    filtered = filtered.filter(item => \n      Boolean(item.settledAt) === settlementSearchParams.isSettled\n    )\n  }\n  \n\n  \n  return filtered\n})\n\nconst settlementStats = computed(() => {\n  const data = filteredSettlementData.value\n  const settled = data.filter(item => item.settledAt)\n  const pending = data.filter(item => !item.settledAt)\n  \n  const totalGross = data.reduce((sum, item) => sum + (item.grossAmount || 0), 0)\n  const totalCommission = data.reduce((sum, item) => sum + (item.commissionFee || 0), 0)\n  const avgRate = data.length > 0 \n    ? Number((data.reduce((sum, item) => sum + (item.commissionRate || 0), 0) / data.length).toFixed(2))\n    : 0\n  \n  return {\n    total: data.length,\n    settledCount: settled.length,\n    pendingCount: pending.length,\n    totalGrossAmount: totalGross,\n    totalCommissionFee: totalCommission,\n    avgCommissionRate: avgRate\n  }\n})\n\n// 表格列定义\nconst settlementColumns: DataTableColumns<SettlementItem> = [\n  {\n    title: '序号',\n    key: 'index',\n    width: 70,\n    render: (_, index) => index + 1\n  },\n  {\n    title: '结算单号',\n    key: 'settleId',\n    width: 180,\n    ellipsis: {\n      tooltip: true\n    },\n    render: (row) => {\n      return h('div', { class: 'space-y-1' }, [\n        h('div', { class: 'font-mono text-xs text-blue-600' }, row.settleId),\n        h('div', { class: 'text-xs text-gray-500' }, `创建时间: ${formatPeriodText(row.periodStart, row.periodEnd)}`)\n      ])\n    }\n  },\n  {\n    title: '结算周期',\n    key: 'period',\n    width: 160,\n    render: (row) => {\n      return h('div', { class: 'space-y-1' }, [\n        h('div', { class: 'font-medium text-sm' }, formatPeriodText(row.periodStart, row.periodEnd)),\n        h('div', { class: 'text-xs text-gray-500' }, [\n          h('div', `开始: ${row.periodStart ? new Date(row.periodStart).toLocaleDateString('zh-CN') : '-'}`),\n          h('div', `结束: ${row.periodEnd ? new Date(row.periodEnd).toLocaleDateString('zh-CN') : '-'}`)\n        ])\n      ])\n    }\n  },\n  {\n    title: '收入明细',\n    key: 'income',\n    width: 200,\n    align: 'right',\n    render: (row) => {\n      return h('div', { class: 'space-y-1 text-right' }, [\n        h('div', { class: 'flex justify-between items-center' }, [\n          h('span', { class: 'text-xs text-gray-500' }, '毛收入:'),\n          h('span', { class: 'font-medium text-green-600' }, `¥${formatAmount(row.grossAmount || 0)}`)\n        ]),\n        h('div', { class: 'flex justify-between items-center' }, [\n          h('span', { class: 'text-xs text-gray-500' }, '抽佣:'),\n          h('span', { class: 'font-medium text-orange-600' }, `¥${formatAmount(row.commissionFee || 0)}`)\n        ]),\n        h('div', { class: 'flex justify-between items-center pt-1 border-t border-gray-200' }, [\n          h('span', { class: 'text-xs text-gray-700 font-medium' }, '应结:'),\n          h('span', { class: 'font-bold text-blue-600' }, `¥${formatAmount(row.netAmount || 0)}`)\n        ])\n      ])\n    }\n  },\n  {\n    title: '抽佣信息',\n    key: 'commission',\n    width: 120,\n    align: 'center',\n    render: (row) => {\n      const rate = row.commissionRate || 0\n      return h('div', { class: 'space-y-1' }, [\n        h('div', { class: 'text-lg font-bold text-purple-600' }, `${rate}%`),\n        h('div', { class: 'text-xs text-gray-500' }, '平台抽佣率'),\n        h('div', { class: 'text-xs font-medium' }, [\n          `¥${formatAmount(row.commissionFee || 0)}`\n        ])\n      ])\n    }\n  },\n  {\n    title: '状态与时间',\n    key: 'status',\n    width: 160,\n    align: 'center',\n    render: (row) => {\n      const isSettled = Boolean(row.settledAt)\n      return h('div', { class: 'space-y-2' }, [\n        h(\n          'n-tag',\n          {\n            type: isSettled ? 'success' : 'warning',\n            size: 'small'\n          },\n          () => isSettled ? '已结算' : '待结算'\n        ),\n        h('div', { class: 'text-xs text-gray-500' }, [\n          h('div', '结算时间:'),\n          h('div', { class: 'font-medium' }, \n            row.settledAt \n              ? new Date(row.settledAt).toLocaleString('zh-CN')\n              : '待结算'\n          )\n        ])\n      ])\n    }\n  }\n]\n\n// 工具函数\nconst formatAmount = (amount: number): string => {\n  return new Intl.NumberFormat('zh-CN', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(amount)\n}\n\nconst getSettlementStatusType = (settledAt?: string) => {\n  return settledAt ? 'success' : 'warning'\n}\n\n// 事件处理函数\nconst handleSettlementSearch = () => {\n  console.log('🔍 用户触发搜索操作', settlementSearchParams)\n  loadSettlements()\n  message.success('搜索完成')\n}\n\nconst handleSettlementReset = () => {\n  console.log('🔄 用户触发重置操作，之前的搜索条件:', { ...settlementSearchParams })\n  Object.assign(settlementSearchParams, {\n    merchantId: '',\n    startDate: null,\n    endDate: null,\n    isSettled: null\n  })\n  console.log('🆕 重置后的搜索条件:', { ...settlementSearchParams })\n  loadSettlements()\n  message.info('筛选条件已重置')\n}\n\nconst handleSettlementRefresh = async () => {\n  console.log('🔄 用户触发刷新操作，当前搜索条件:', { ...settlementSearchParams })\n  await loadSettlements()\n  message.success('数据已刷新')\n}\n\nconst handleViewSettlementDetail = async (settlement: SettlementItem) => {\n  try {\n    settlementDetailLoading.value = true\n    showSettlementDetailModal.value = true\n    \n    // 获取详细信息\n    const detail = await getSettlementDetail(settlement.settleId!)\n    currentSettlement.value = {\n      ...settlement,\n      ...detail,\n      statusText: settlement.settledAt ? '已结算' : '待结算'\n    }\n  } catch (error) {\n    message.error('获取结算单详情失败')\n    console.error('获取结算单详情失败:', error)\n  } finally {\n    settlementDetailLoading.value = false\n  }\n}\n\n\n\n\n\n// 数据加载\nconst loadSettlements = async () => {\n  console.log('🔄 开始加载结算数据...')\n  try {\n    settlementLoading.value = true\n    \n    // 构建查询参数\n    const params: any = {\n      page: 1,\n      size: 50\n    }\n    \n    // 只添加有值的参数\n    if (settlementSearchParams.startDate) {\n      params.startDate = settlementSearchParams.startDate\n    }\n    if (settlementSearchParams.endDate) {\n      params.endDate = settlementSearchParams.endDate\n    }\n    if (settlementSearchParams.isSettled !== undefined && settlementSearchParams.isSettled !== null) {\n      params.isSettled = settlementSearchParams.isSettled\n    }\n    \n    console.log('📋 查询参数:', {\n      merchant: settlementSearchParams.merchantId ? `商家ID: ${settlementSearchParams.merchantId}` : '全部商家',\n      dateRange: settlementSearchParams.startDate && settlementSearchParams.endDate \n        ? `${settlementSearchParams.startDate} ~ ${settlementSearchParams.endDate}` \n        : '全部时间',\n      isSettled: settlementSearchParams.isSettled !== undefined \n        ? (settlementSearchParams.isSettled ? '已结算' : '未结算') \n        : '全部状态',\n      apiParams: params\n    })\n    \n    let response\n    let apiName\n    if (settlementSearchParams.merchantId) {\n      // 根据商家ID获取结算单\n      apiName = 'getSettlementsByMerchant'\n      console.log(`🌐 调用API: ${apiName}`, { merchantId: settlementSearchParams.merchantId, params })\n      apiRequestCount.value++\n      response = await getSettlementsByMerchant(settlementSearchParams.merchantId, params)\n      successfulApiCount.value++\n    } else {\n      // 获取所有结算单\n      apiName = 'getSettlements'\n      console.log(`🌐 调用API: ${apiName}`, { params })\n      apiRequestCount.value++\n      response = await getSettlements(params)\n      successfulApiCount.value++\n    }\n    \n    console.log(`✅ ${apiName} API响应:`, {\n      status: 'success',\n      dataCount: response.settlements ? response.settlements.length : 0,\n      totalCount: response.total || 0,\n      response: response\n    })\n    \n    const settlements = response.settlements || []\n    if (settlements.length === 0) {\n      console.log('⚠️ 未获取到结算单数据')\n      settlementData.value = []\n      return\n    }\n    \n    console.log(`🔄 开始加载 ${settlements.length} 个结算单的详细信息...`)\n    \n    // 为每个结算单加载详细信息\n    const settlementsWithDetails = await Promise.all(\n      settlements.map(async (settlement, index) => {\n        try {\n          console.log(`📝 [${index + 1}/${settlements.length}] 加载结算单详情: ${settlement.settleId}`)\n          apiRequestCount.value++\n          const detail = await getSettlementDetail(settlement.settleId)\n          successfulApiCount.value++\n          \n          console.log(`✅ [${index + 1}/${settlements.length}] 详情加载成功:`, {\n            settleId: settlement.settleId,\n            grossAmount: detail.grossAmount,\n            commissionFee: detail.commissionFee,\n            netAmount: detail.netAmount\n          })\n          \n          const commissionRate = detail.grossAmount > 0 ? (detail.commissionFee / detail.grossAmount * 100) : 0\n          \n          return {\n            ...settlement,\n            ...detail,\n            commissionRate: commissionRate\n          }\n        } catch (error) {\n          failedApiCount.value++\n          console.error(`❌ [${index + 1}/${settlements.length}] 获取结算单 ${settlement.settleId} 详情失败:`, {\n            error: error.message || error,\n            fullError: error\n          })\n          // 如果获取详情失败，返回基础信息\n          return {\n            ...settlement,\n            grossAmount: 0,\n            commissionFee: 0,\n            netAmount: 0,\n            commissionRate: 0\n          }\n        }\n      })\n    )\n    \n    console.log('🎉 所有结算单数据加载完成:', {\n      总数量: settlementsWithDetails.length,\n      成功加载详情: settlementsWithDetails.filter(s => s.grossAmount > 0 || s.netAmount > 0).length,\n      详情加载失败: settlementsWithDetails.filter(s => s.grossAmount === 0 && s.netAmount === 0).length,\n      API调用统计: {\n        总请求数: apiRequestCount.value,\n        成功请求: successfulApiCount.value,\n        失败请求: failedApiCount.value\n      }\n    })\n    \n    settlementData.value = settlementsWithDetails\n  } catch (error) {\n    failedApiCount.value++\n    console.error('❌ 加载结算数据失败:', {\n      错误信息: (error as Error).message || error,\n      完整错误: error,\n      搜索条件: settlementSearchParams,\n      API调用统计: {\n        总请求数: apiRequestCount.value,\n        成功请求: successfulApiCount.value,\n        失败请求: failedApiCount.value\n      }\n    })\n    message.error('加载结算数据失败')\n  } finally {\n    settlementLoading.value = false\n    console.log('🏁 结算数据加载流程结束', {\n      最终数据条数: settlementData.value.length,\n      API调用统计: {\n        总请求数: apiRequestCount.value,\n        成功请求: successfulApiCount.value,\n        失败请求: failedApiCount.value,\n        成功率: apiRequestCount.value > 0 ? `${(successfulApiCount.value / apiRequestCount.value * 100).toFixed(1)}%` : 'N/A'\n      }\n    })\n  }\n}\n\nconst formatPeriodText = (start?: string, end?: string): string => {\n  if (!start || !end) return '-'\n  \n  const startDate = new Date(start)\n  const endDate = new Date(end)\n  \n  const startStr = startDate.toLocaleDateString('zh-CN')\n  const endStr = endDate.toLocaleDateString('zh-CN')\n  \n  return `${startStr} ~ ${endStr}`\n}\n\n// 添加一个简单的请求计数器，用于调试\nconst apiRequestCount = ref(0)\nconst successfulApiCount = ref(0)\nconst failedApiCount = ref(0)\n\n// 生命周期\nonMounted(() => {\n  console.log('🚀 结算管理页面初始化，开始加载数据...')\n  console.log('📊 调试统计初始化:', { \n    apiRequestCount: apiRequestCount.value,\n    successfulApiCount: successfulApiCount.value,\n    failedApiCount: failedApiCount.value\n  })\n  loadSettlements()\n})\n</script>\n\n<style scoped>\n.settlement-manage-container {\n  background: linear-gradient(135deg, #f6ffed 0%, #f0f9ff 100%);\n  min-height: 100vh;\n}\n\n/* 统计卡片悬停效果 */\n:deep(.n-statistic) {\n  .n-statistic__value {\n    transition: all 0.3s ease;\n  }\n}\n\n:deep(.n-card:hover .n-statistic__value) {\n  transform: scale(1.05);\n}\n\n/* 表格行悬停效果 */\n:deep(.n-data-table-tbody .hover\\:bg-purple-50:hover) {\n  background-color: rgb(250 245 255) !important;\n}\n\n/* 搜索表单样式 */\n:deep(.n-form-item) {\n  margin-bottom: 0;\n}\n\n/* 弹窗样式 */\n:deep(.n-modal-card) {\n  border-radius: 16px;\n}\n\n/* 渐变背景 */\n.settlement-manage-container::before {\n  content: '';\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: \n    radial-gradient(circle at 20% 20%, rgba(114, 46, 209, 0.05) 0%, transparent 50%),\n    radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);\n  pointer-events: none;\n  z-index: -1;\n}\n</style>\n"],"names":["getSettlements","params","queryParams","get","response","settlements","item","getSettlementDetail","settleId","responseData","getSettlementsByMerchant","merchantId","_hoisted_1","CardOutline","defineComponent","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","ReceiptOutline","message","useMessage","settlementLoading","ref","settlementDetailLoading","showSettlementDetailModal","settlementData","currentSettlement","settlementSearchParams","reactive","settlementStatusOptions","filteredSettlementData","computed","filtered","settlementStats","data","settled","pending","totalGross","sum","totalCommission","avgRate","settlementColumns","_","index","row","h","formatPeriodText","formatAmount","rate","isSettled","amount","getSettlementStatusType","settledAt","handleSettlementSearch","loadSettlements","handleSettlementReset","handleSettlementRefresh","apiName","apiRequestCount","successfulApiCount","settlementsWithDetails","settlement","detail","commissionRate","error","failedApiCount","s","start","end","startDate","endDate","startStr","endStr","onMounted","_hoisted_2","_hoisted_3","_createVNode","_component_n_avatar","_component_n_icon","_unref","WalletOutline","_component_n_grid","_component_n_gi","_component_n_card","_component_n_statistic","CheckmarkCircleOutline","TimeOutline","StatsChartOutline","_component_n_space","_component_n_button","SearchOutline","RefreshOutline","_component_n_form","_component_n_form_item","_component_n_input","$event","_component_n_date_picker","_component_n_select","_hoisted_4","_component_n_text","_toDisplayString","_component_n_data_table","_component_n_modal","_hoisted_5","_hoisted_6","_hoisted_36","_component_n_spin","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_component_n_divider","_hoisted_17","_hoisted_18","_createTextVNode","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_component_n_tag","_createBlock","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35"],"mappings":"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","x_google_ignoreList":[1,2]}