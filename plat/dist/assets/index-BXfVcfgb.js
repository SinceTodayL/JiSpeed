import{f as ze,b as Ne,c as Re}from"./rider-D07XGKnV.js";import{L as Ae,d as Y,b as y,o as h,aB as Se,e as r,O as Ie,r as m,a as ee,P as Ce,f as e,g as c,w as l,h as a,R as i,J as A,N as Oe,B as I,t as g,c as te,F as ae,v as se,af as le,s as Te,V as re,W as E,Y as Me}from"./index-BGxhU6rz.js";import{B as C}from"./BicycleOutline-CPkImGTT.js";import{N as ne,S as De,R as oe,a as ie,b as u,c as $}from"./SearchOutline-URBqqEMR.js";import{S as P}from"./StatsChartOutline-2wH6z7NV.js";import{T as de}from"./TrophyOutline-D-DNezRa.js";import{C as ue}from"./CallOutline-DZh2z95I.js";import{P as G}from"./PersonOutline-MJOVbAa0.js";import{N as b,a as j}from"./Grid-t1CHedEb.js";import{b as Pe,N as je,a as ce}from"./FormItem-DjqXGFIs.js";import{_ as H}from"./Badge-C8eE_kNh.js";import{N as fe}from"./Spin-DvsCJoKf.js";function Ue(){return console.log("获取所有订单及关联信息"),Ae("/api/OrderAssignment/orders/all")}const Le={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ge=Y({name:"CarOutline",render:function(p,v){return h(),y("svg",Le,v[0]||(v[0]=[Se('<path d="M80 224l37.78-88.15C123.93 121.5 139.6 112 157.11 112h197.78c17.51 0 33.18 9.5 39.33 23.85L432 224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 224h352v144H80z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 368v32H80v-32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M432 368v32h-32v-32"></path><circle cx="144" cy="288" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="368" cy="288" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',6)]))}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ve=Y({name:"FlashOutline",render:function(p,v){return h(),y("svg",Be,v[0]||(v[0]=[r("path",{d:"M315.27 33L96 304h128l-31.51 173.23a2.36 2.36 0 0 0 2.33 2.77h0a2.36 2.36 0 0 0 1.89-.95L416 208H288l31.66-173.25a2.45 2.45 0 0 0-2.44-2.75h0a2.42 2.42 0 0 0-1.95 1z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),Fe={class:"p-6 min-h-full bg-gradient-to-br from-orange-50 to-yellow-50"},Ee={class:"mb-6"},$e={class:"text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2"},Ge={class:"flex items-center gap-2"},He={class:"flex items-center gap-3"},Ye={class:"text-lg font-semibold text-gray-800"},We={class:"text-sm text-gray-500"},Je={key:0,class:"space-y-6"},Ke={class:"bg-gradient-to-r from-orange-50 to-yellow-50 p-4 rounded-lg"},qe={class:"text-gray-800 font-medium mb-4 flex items-center gap-2"},Qe={class:"text-center"},Xe={class:"text-sm text-gray-600"},Ze={key:1,class:"text-center py-8"},et={class:"space-y-4"},tt={class:"flex justify-between items-center py-2 border-b border-gray-100"},at={class:"flex justify-between items-center py-2 border-b border-gray-100"},st={class:"flex justify-between items-center py-2 border-b border-gray-100"},lt={class:"text-gray-600 font-medium flex items-center gap-2"},rt={class:"flex justify-between items-center py-2"},nt={class:"text-gray-600 font-medium flex items-center gap-2"},ot={class:"space-y-4"},it={class:"flex justify-between items-start py-2 border-b border-gray-100"},dt={class:"flex justify-between items-center py-2 border-b border-gray-100"},ut={class:"flex justify-between items-center py-2"},ct={key:1,class:"flex justify-center items-center h-80"},ft={class:"flex items-center gap-3"},gt={key:0,class:"space-y-4"},pt={class:"bg-gradient-to-r from-orange-50 to-yellow-50 p-4 rounded-lg"},mt={class:"text-gray-800 font-medium mb-4 flex items-center gap-2"},ht={class:"text-center p-4 bg-white rounded-lg shadow-sm"},vt={class:"text-2xl font-bold text-purple-600"},xt={class:"text-center p-4 bg-white rounded-lg shadow-sm"},yt={class:"text-sm text-gray-600 mt-2"},_t={key:1,class:"flex justify-center items-center h-80"},wt=Y({name:"rider-manage",__name:"index",setup(W){const p=Ie(),v=m(!1),_=m([]),O=m(!1),k=m([]),U=m(!1),z=m(0),N=m({page:1,pageSize:20,totalCount:0,totalPages:0}),x=m({searchTerm:"",page:1,pageSize:20}),J=ee(()=>{const s=_.value.length,t=_.value.filter(o=>o.status===1).length;return{total:s,onlineCount:t}}),L=ee(()=>_.value.filter(s=>{if(x.value.searchTerm){const t=x.value.searchTerm.toLowerCase();if(!s.name?.toLowerCase().includes(t)&&!s.phoneNumber?.toLowerCase().includes(t))return!1}return!0})),T=m(!1),B=m(!1),d=m({}),S=m({}),K=new Date,q=K.getFullYear(),Q=K.getMonth()+1;async function X(){try{v.value=!0;const s={page:x.value.page,pageSize:x.value.pageSize};x.value.searchTerm&&(s.searchTerm=x.value.searchTerm),console.log("🚀 开始请求骑手列表，参数:",s);const t=await ze(s);if(console.log("📥 收到骑手列表响应:",t),t&&t.data){console.log("详细的响应数据结构:",t.data);let o=null,n=null;t.data.Riders&&Array.isArray(t.data.Riders)?(o=t.data.Riders,n=t.data.Pagination):t.data.riders&&Array.isArray(t.data.riders)?(o=t.data.riders,n=t.data.pagination):Array.isArray(t.data)&&(o=t.data,n=null),console.log("解析出的骑手数据:",o),console.log("解析出的分页信息:",n),o&&Array.isArray(o)?(_.value=o.map((f,R)=>({...f,index:(N.value.page-1)*N.value.pageSize+R+1,riderId:f.riderId||f.RiderId||"-",name:f.name||f.Name||"-",phoneNumber:f.phoneNumber||f.PhoneNumber||"-",vehicleNumber:f.vehicleNumber||f.VehicleNumber||"-",applicationUserId:f.applicationUserId||f.ApplicationUserId||"-"})),console.log("处理后的表格数据:",_.value),n?N.value={page:n.page||n.Page||1,pageSize:n.pageSize||n.PageSize||20,totalCount:n.totalCount||n.TotalCount||0,totalPages:n.totalPages||n.TotalPages||0}:(N.value.totalCount=o.length,N.value.totalPages=Math.ceil(o.length/N.value.pageSize))):(console.log("没有找到有效的骑手数据数组"),_.value=[])}else p.error(t?.message||"获取骑手列表失败"),_.value=[]}catch(s){p.error("获取骑手列表失败: "+s.message),_.value=[],console.error("Error fetching riders list:",s)}finally{v.value=!1}}function pe(){p.success(`找到 ${L.value.length} 名骑手`)}function me(){x.value={searchTerm:"",status:null,page:1,pageSize:20},p.info("搜索条件已重置")}function he(){p.info("正在刷新骑手数据..."),X()}const ve=[{key:"index",title:"序号",align:"center",width:60,render:s=>s.index},{key:"OrderId",title:"订单ID",width:100,render:s=>e(u,{code:!0,style:"font-size: 11px;"},{default:()=>[s.OrderId?.slice(-8)||"-"]})},{key:"OrderStatus",title:"状态",align:"center",width:90,render:s=>e(E,{type:s.statusType,size:"small"},{default:()=>[s.statusText]})},{key:"User",title:"用户信息",width:120,render:s=>e("div",{class:"flex flex-col"},[e(u,{strong:!0,style:"font-size: 12px;"},{default:()=>[s.User?.Nickname||"未知用户"]}),e(u,{depth:"3",style:"font-size: 10px;"},{default:()=>[c("ID: "),s.User?.UserId?.slice(-6)||"-"]})])},{key:"Merchant",title:"商家信息",width:140,render:s=>e("div",{class:"flex flex-col"},[e(u,{strong:!0,style:"font-size: 12px;"},{default:()=>[s.Merchant?.MerchantName||"未知商家"]}),e(u,{depth:"3",style:"font-size: 10px; word-break: break-all;"},{default:()=>[s.Merchant?.Location||"-"]})])},{key:"Assignment",title:"分配信息",width:140,render:s=>s.Assignment?e("div",{class:"flex flex-col"},[e(u,{strong:!0,style:"font-size: 12px;"},{default:()=>[s.Assignment.RiderName||"未知骑手"]}),e(u,{depth:"3",style:"font-size: 10px;"},{default:()=>[s.Assignment.RiderPhoneNumber||"-"]}),e(E,{type:s.Assignment.AcceptedStatus?"success":"warning",size:"small",style:"margin-top: 2px; font-size: 10px;"},{default:()=>[s.Assignment.AcceptedStatus?"已接单":"待接单"]})]):e(E,{type:"warning",size:"small"},{default:()=>[c("未分配")]})},{key:"Address",title:"配送地址",width:160,render:s=>e("div",{class:"flex flex-col"},[e(u,{strong:!0,style:"font-size: 12px;"},{default:()=>[s.Address?.RecipientName||"未知收件人"]}),e(u,{depth:"3",style:"font-size: 10px; word-break: break-all; max-width: 150px;"},{default:()=>[s.Address?.Address||"-"]})])},{key:"CreateAt",title:"创建时间",width:120,render:s=>e(u,{style:"font-size: 11px;"},{default:()=>[s.CreateAt?new Date(s.CreateAt).toLocaleString():"-"]})}],xe=[{key:"index",title:"序号",align:"center",width:70,render:(s,t)=>e(H,{value:t+1,type:"warning"},null)},{key:"riderInfo",title:"骑手信息",width:220,render:s=>e("div",{class:"flex items-center gap-12px"},[e($,{size:"medium",style:{backgroundColor:s.status===1?"#fa8c16":s.status===0?"#d9d9d9":"#faad14"}},{default:()=>[e(i,null,{default:()=>[e(C,null,null)]})]}),e("div",{class:"flex flex-col"},[e(u,{strong:!0},{default:()=>[s.name||"未设置姓名"]}),e(u,{depth:"3",style:"font-size: 12px;"},{default:()=>[c("ID: "),s.riderId?.slice(-8)||"-"]})])])},{key:"contactInfo",title:"联系方式",align:"center",width:140,render:s=>e("div",{class:"flex items-center justify-center gap-4px"},[e(i,{color:"#1890ff",size:"14"},{default:()=>[e(ue,null,null)]}),e(u,{style:"font-size: 12px;"},{default:()=>[s.phoneNumber||"未提供"]})])},{key:"vehicleInfo",title:"车辆信息",align:"center",width:140,render:s=>e("div",{class:"flex items-center justify-center gap-4px"},[e(i,{color:s.vehicleNumber?"#52c41a":"#d9d9d9",size:"14"},{default:()=>[e(ge,null,null)]}),e(u,{style:"font-size: 12px;"},{default:()=>[s.vehicleNumber||"未登记"]})])},{key:"userAccount",title:"关联账户",align:"center",width:140,render:s=>e("div",{class:"flex items-center justify-center gap-4px"},[e(i,{color:"#722ed1",size:"14"},{default:()=>[e(G,null,null)]}),e(u,{style:"font-size: 12px; word-break: break-all;",depth:"3"},{default:()=>[s.applicationUserId?.slice(-8)||"未关联"]})])},{key:"actions",title:"操作",align:"center",width:140,render:s=>e(I,{type:"primary",size:"small",onClick:()=>ye(s.riderId),style:"border-radius: 6px; background: linear-gradient(135deg, #fa8c16, #faad14);"},{default:()=>[e("div",{style:"display: flex; align-items: center; gap: 4px;"},[e(i,{size:"14"},{default:()=>[e(de,null,null)]}),c("查看绩效")])]})}];async function ye(s){try{B.value=!0,T.value=!0,d.value={},S.value={},console.log(`获取骑手详情和绩效排名，ID: ${s}`);const[t,o]=await Promise.allSettled([Ne(s),Re(s,q,Q)]);t.status==="fulfilled"&&t.value?.data?(d.value=t.value.data,console.log("骑手详情:",d.value)):console.error("获取骑手详情失败:",t),o.status==="fulfilled"&&o.value?.data?(S.value=o.value.data,console.log("骑手绩效排名:",S.value)):console.error("获取骑手绩效排名失败:",o)}catch(t){console.error("获取骑手信息失败:",t),p.error("获取骑手信息失败: "+(t.message||"未知错误")),T.value=!1}finally{B.value=!1}}function _e(s){return{totalOrdersRanking:"总订单排名",onTimeRateRanking:"准时率排名",goodReviewRateRanking:"好评率排名",incomeRanking:"收入排名",TotalOrdersRanking:"总订单排名",OnTimeRateRanking:"准时率排名",GoodReviewRateRanking:"好评率排名",IncomeRanking:"收入排名",IncomeRank:"收入排名",OnTimeRateRank:"准时率排名",GoodReviewRateRank:"好评率排名",TotalOrdersRank:"总订单排名"}[s]||s}function V(s){return s<=3?"success":s<=10?"warning":"info"}function Z(s){return{0:"未支付",1:"已支付",2:"用户确认收货",3:"已经评价",4:"售后中",5:"售后结束",6:"订单关闭",7:"已派单",8:"配送中"}[s]||"未知状态"}function we(s){return{0:"error",1:"warning",2:"success",3:"success",4:"warning",5:"success",6:"error",7:"info",8:"warning"}[s]||"default"}async function be(){try{O.value=!0,console.log("🚀 开始获取派单相关订单数据");const s=await Ue();if(console.log("📥 收到订单数据响应:",s),s){const t=Array.isArray(s)?s:s.data||[];if(Array.isArray(t)){z.value=t.length;const o=t.filter(n=>{const f=n.OrderStatus||n.orderStatus;return f===7||f===8});k.value=o.map((n,f)=>{const R=n.User||n.user||{},M=n.Merchant||n.merchant||{},D=n.Address||n.address||{},w=n.Assignment||n.assignment,F={...n,OrderId:n.OrderId||n.orderId,OrderStatus:n.OrderStatus||n.orderStatus,CreateAt:n.CreateAt||n.createAt,User:{Nickname:R.Nickname||R.nickname,UserId:R.UserId||R.userId},Merchant:{MerchantName:M.MerchantName||M.merchantName,Location:M.Location||M.location},Address:{RecipientName:D.RecipientName||D.recipientName,Address:D.Address||D.address},Assignment:w?{RiderName:w.RiderName||w.riderName,RiderPhoneNumber:w.RiderPhoneNumber||w.riderPhoneNumber,AcceptedStatus:w.AcceptedStatus||w.acceptedStatus}:null};return{...F,index:f+1,statusText:Z(F.OrderStatus),statusType:we(F.OrderStatus)}}),p.success(`成功获取 ${o.length} 条派单订单（总订单数：${z.value}）`)}else p.error("获取到的订单数据格式不正确"),k.value=[],z.value=0}else p.error("获取订单数据失败"),k.value=[],z.value=0}catch(s){p.error("获取订单数据失败: "+s.message),k.value=[],z.value=0,console.error("Error fetching orders data:",s)}finally{O.value=!1}}function ke(){U.value=!0,be()}return Ce(()=>{X()}),(s,t)=>(h(),y("div",Fe,[r("div",Ee,[r("h1",$e,[e(a(i),{size:"24",color:"#fa8c16"},{default:l(()=>[e(a(C))]),_:1}),t[3]||(t[3]=c(" 骑手管理中心 "))]),t[4]||(t[4]=r("p",{class:"text-gray-600"},"管理骑手信息和绩效排名",-1))]),e(a(j),{cols:2,"x-gap":16,"y-gap":16,class:"mb-6"},{default:l(()=>[e(a(b),null,{default:l(()=>[e(a(A),{bordered:!1,class:"shadow-sm hover:shadow-lg transition-shadow duration-300"},{default:l(()=>[e(a(ne),{label:"总骑手数",value:J.value.total,"value-style":"color: #fa8c16; font-weight: bold;"},{prefix:l(()=>[e(a(i),{size:"20",color:"#fa8c16"},{default:l(()=>[e(a(C))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),e(a(b),null,{default:l(()=>[e(a(A),{bordered:!1,class:"shadow-sm hover:shadow-lg transition-shadow duration-300"},{default:l(()=>[e(a(ne),{label:"在线骑手数",value:J.value.onlineCount,"value-style":"color: #fa8c16; font-weight: bold;"},{prefix:l(()=>[e(a(i),{size:"20",color:"#fa8c16"},{default:l(()=>[e(a(Ve))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(a(A),{title:"筛选条件",class:"mb-6 shadow-sm",bordered:!1},{"header-extra":l(()=>[e(a(ce),null,{default:l(()=>[e(a(I),{size:"small",onClick:pe,type:"primary"},{icon:l(()=>[e(a(i),null,{default:l(()=>[e(a(De))]),_:1})]),default:l(()=>[t[5]||(t[5]=c(" 搜索 "))]),_:1,__:[5]}),e(a(I),{size:"small",onClick:me},{icon:l(()=>[e(a(i),null,{default:l(()=>[e(a(oe))]),_:1})]),default:l(()=>[t[6]||(t[6]=c(" 重置 "))]),_:1,__:[6]}),e(a(I),{size:"small",onClick:ke,type:"warning"},{icon:l(()=>[e(a(i),null,{default:l(()=>[e(a(P))]),_:1})]),default:l(()=>[t[7]||(t[7]=c(" 订单派送情况 "))]),_:1,__:[7]})]),_:1})]),default:l(()=>[e(a(Pe),{model:x.value,inline:"","label-placement":"left","label-width":"80"},{default:l(()=>[e(a(je),{label:"搜索条件"},{default:l(()=>[e(a(Oe),{value:x.value.searchTerm,"onUpdate:value":t[0]||(t[0]=o=>x.value.searchTerm=o),placeholder:"请输入骑手姓名或手机号",clearable:"",style:{width:"250px"}},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),e(a(A),{bordered:!1,class:"shadow-sm"},{header:l(()=>[r("div",Ge,[e(a(i),{size:"18",color:"#fa8c16"},{default:l(()=>[e(a(C))]),_:1}),t[8]||(t[8]=r("span",{class:"font-medium"},"骑手列表",-1))])]),"header-extra":l(()=>[e(a(ce),{align:"center"},{default:l(()=>[e(a(u),{depth:"3"},{default:l(()=>[c(" 显示 "+g(L.value.length)+" / "+g(_.value.length)+" 条记录 ",1)]),_:1}),e(a(I),{size:"small",onClick:he,loading:v.value},{icon:l(()=>[e(a(i),null,{default:l(()=>[e(a(oe))]),_:1})]),default:l(()=>[t[9]||(t[9]=c(" 刷新 "))]),_:1,__:[9]},8,["loading"])]),_:1})]),default:l(()=>[e(a(ie),{columns:xe,data:L.value,loading:v.value,pagination:{pageSize:10,showSizePicker:!0,pageSizes:[10,20,50]},"flex-height":"",class:"min-h-400px","row-class-name":()=>"hover:bg-orange-50 transition-colors duration-200"},null,8,["data","loading"])]),_:1}),e(a(re),{show:T.value,"onUpdate:show":t[1]||(t[1]=o=>T.value=o),preset:"card",style:{width:"900px","max-height":"80vh"},class:"rounded-2xl","mask-closable":!1},{header:l(()=>[r("div",He,[e(a($),{size:40,style:{background:"linear-gradient(135deg, #fa8c16, #faad14)"}},{default:l(()=>[e(a(i),{size:"20"},{default:l(()=>[e(a(C))]),_:1})]),_:1}),r("div",null,[r("h3",Ye,g(d.value.name||d.value.Name||"骑手绩效信息"),1),r("p",We," ID: "+g(d.value.riderId||d.value.RiderId||"-"),1)])])]),default:l(()=>[B.value?(h(),y("div",ct,[e(a(fe),{size:"large"},{description:l(()=>t[18]||(t[18]=[r("div",{class:"text-center mt-4"},[r("p",{class:"text-gray-600"},"正在加载骑手信息..."),r("p",{class:"text-sm text-gray-400 mt-1"},"请稍候片刻")],-1)])),_:1})])):(h(),y("div",Je,[r("div",Ke,[r("h4",qe,[e(a(i),{color:"#fa8c16"},{default:l(()=>[e(a(de))]),_:1}),c(" "+g(a(q))+"年"+g(Q)+"月绩效概览 ",1)]),Object.keys(S.value).length>0?(h(),te(a(j),{key:0,cols:4,"x-gap":20},{default:l(()=>[(h(!0),y(ae,null,se(S.value,(o,n)=>(h(),te(a(b),{key:n},{default:l(()=>[r("div",Qe,[r("div",{class:le(["text-2xl font-bold",{"text-yellow-600":V(o)==="success","text-orange-600":V(o)==="warning","text-blue-600":V(o)==="info"}])},g(o),3),r("div",Xe,g(_e(n)),1)])]),_:2},1024))),128))]),_:1})):(h(),y("div",Ze,[e(a(i),{size:"48",color:"#d9d9d9"},{default:l(()=>[e(a(P))]),_:1}),t[10]||(t[10]=r("p",{class:"text-gray-500 mt-2"},"暂无当月绩效数据",-1))]))]),e(a(Te)),e(a(j),{cols:2,"x-gap":24,"y-gap":20},{default:l(()=>[e(a(b),null,{default:l(()=>[e(a(A),{title:"基本信息",size:"small",class:"h-full"},{"header-extra":l(()=>[e(a(i),{color:"#fa8c16"},{default:l(()=>[e(a(G))]),_:1})]),default:l(()=>[r("div",et,[r("div",tt,[t[11]||(t[11]=r("span",{class:"text-gray-600 font-medium"},"骑手ID",-1)),e(a(u),{code:"",style:{"word-break":"break-all","max-width":"200px"}},{default:l(()=>[c(g(d.value.riderId||d.value.RiderId||"-"),1)]),_:1})]),r("div",at,[t[12]||(t[12]=r("span",{class:"text-gray-600 font-medium"},"姓名",-1)),e(a(u),{strong:""},{default:l(()=>[c(g(d.value.name||d.value.Name||"未设置"),1)]),_:1})]),r("div",st,[r("span",lt,[e(a(i),{size:"16",color:"#1890ff"},{default:l(()=>[e(a(ue))]),_:1}),t[13]||(t[13]=c(" 手机号 "))]),e(a(u),null,{default:l(()=>[c(g(d.value.phoneNumber||d.value.PhoneNumber||"未设置"),1)]),_:1})]),r("div",rt,[r("span",nt,[e(a(i),{size:"16",color:"#52c41a"},{default:l(()=>[e(a(ge))]),_:1}),t[14]||(t[14]=c(" 车牌号 "))]),e(a(u),null,{default:l(()=>[c(g(d.value.vehicleNumber||d.value.VehicleNumber||"未登记"),1)]),_:1})])])]),_:1})]),_:1}),e(a(b),null,{default:l(()=>[e(a(A),{title:"账户关联",size:"small",class:"h-full"},{"header-extra":l(()=>[e(a(i),{color:"#722ed1"},{default:l(()=>[e(a(G))]),_:1})]),default:l(()=>[r("div",ot,[r("div",it,[t[15]||(t[15]=r("span",{class:"text-gray-600 font-medium"},"关联用户ID",-1)),e(a(u),{style:{"word-break":"break-all","max-width":"200px"}},{default:l(()=>[c(g(d.value.applicationUserId||d.value.ApplicationUserId||"未关联"),1)]),_:1})]),r("div",dt,[t[16]||(t[16]=r("span",{class:"text-gray-600 font-medium"},"账户状态",-1)),e(a(H),{value:d.value.applicationUserId?"已关联":"未关联",type:d.value.applicationUserId?"success":"warning"},null,8,["value","type"])]),r("div",ut,[t[17]||(t[17]=r("span",{class:"text-gray-600 font-medium"},"车辆状态",-1)),e(a(H),{value:d.value.vehicleNumber?"已登记":"未登记",type:d.value.vehicleNumber?"success":"warning"},null,8,["value","type"])])])]),_:1})]),_:1})]),_:1})]))]),_:1},8,["show"]),e(a(re),{show:U.value,"onUpdate:show":t[2]||(t[2]=o=>U.value=o),preset:"card",style:{width:"1200px","max-height":"85vh"},class:"rounded-2xl","mask-closable":!1},{header:l(()=>[r("div",ft,[e(a($),{size:40,style:{background:"linear-gradient(135deg, #fa8c16, #faad14)"}},{default:l(()=>[e(a(i),{size:"20"},{default:l(()=>[e(a(P))]),_:1})]),_:1}),t[19]||(t[19]=r("div",null,[r("h3",{class:"text-lg font-semibold text-gray-800"}," 派单状态展示 "),r("p",{class:"text-sm text-gray-500"}," 实时查看已派单和配送中的订单 ")],-1))])]),default:l(()=>[O.value?(h(),y("div",_t,[e(a(fe),{size:"large"},{description:l(()=>t[22]||(t[22]=[r("div",{class:"text-center mt-4"},[r("p",{class:"text-gray-600"},"正在加载订单数据..."),r("p",{class:"text-sm text-gray-400 mt-1"},"请稍候片刻")],-1)])),_:1})])):(h(),y("div",gt,[r("div",pt,[r("h4",mt,[e(a(i),{color:"#fa8c16"},{default:l(()=>[e(a(P))]),_:1}),t[20]||(t[20]=c(" 派单状态统计 "))]),e(a(j),{cols:3,"x-gap":16},{default:l(()=>[e(a(b),null,{default:l(()=>[r("div",ht,[r("div",vt,g(z.value),1),t[21]||(t[21]=r("div",{class:"text-sm text-gray-600 mt-2"},"总订单数",-1))])]),_:1}),(h(),y(ae,null,se([7,8],o=>e(a(b),{key:o},{default:l(()=>[r("div",xt,[r("div",{class:le(["text-2xl font-bold",{"text-blue-600":o===7,"text-orange-600":o===8}])},g(k.value.filter(n=>n.OrderStatus===o).length),3),r("div",yt,g(Z(o)),1)])]),_:2},1024)),64))]),_:1})]),e(a(ie),{columns:ve,data:k.value,loading:O.value,pagination:{pageSize:15,showSizePicker:!0,pageSizes:[10,15,20,30]},"flex-height":"",style:{"min-height":"400px"},"row-class-name":()=>"hover:bg-orange-50 transition-colors duration-200"},null,8,["data","loading"])]))]),_:1},8,["show"])]))}}),Dt=Me(wt,[["__scopeId","data-v-fa4cf99f"]]);export{Dt as default};
//# sourceMappingURL=index-BXfVcfgb.js.map
